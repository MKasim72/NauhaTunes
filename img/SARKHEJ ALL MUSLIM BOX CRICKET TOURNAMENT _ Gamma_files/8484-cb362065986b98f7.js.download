(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8484,5742,5102,8770],{59246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return s},noSSR:function(){return o}});let r=n(43219);n(52322),n(2784);let i=r._(n(84204));function a(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}function s(e,t){let n=i.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e});let s=(r={...r,...t}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?n({...r,loader:()=>null!=s?s().then(a):Promise.resolve(a(()=>null))}):(delete r.webpack,delete r.modules,o(n,r))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},57604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=n(43219)._(n(2784)).default.createContext(null)},84204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let r=n(43219)._(n(2784)),i=n(57604),a=[],o=[],s=!1;function l(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function d(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),a=null;function l(){if(!a){let t=new c(e,n);a={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return a.promise()}if(!s){let e=n.webpack?n.webpack():n.modules;e&&o.push(t=>{for(let n of e)if(t.includes(n))return l()})}function d(e,t){!function(){l();let e=r.default.useContext(i.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let o=r.default.useSyncExternalStore(a.subscribe,a.getCurrentValue,a.getCurrentValue);return r.default.useImperativeHandle(t,()=>({retry:a.retry}),[]),r.default.useMemo(()=>{var t;return o.loading||o.error?r.default.createElement(n.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:a.retry}):o.loaded?r.default.createElement((t=o.loaded)&&t.default?t.default:t,e):null},[e,o])}return d.preload=()=>l(),d.displayName="LoadableComponent",r.default.forwardRef(d)}(l,e)}function u(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return u(e,t)})}d.preloadAll=()=>new Promise((e,t)=>{u(a).then(e,t)}),d.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let n=()=>(s=!0,t());u(o,e).then(n,n)})),window.__NEXT_PRELOADREADY=d.preloadReady;let h=d},86294:function(e,t,n){"use strict";let r;n.d(t,{z:function(){return eM}});var i=n(52322);n(56414);var a=n(55671),o=n(81674),s=n(97729),l=n.n(s),c=n(5632),d=n(2784),u=n(43997),h=n(95405),g=n(12483),p=n(85949),f=n(49414);let m=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class _ extends d.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===h.v.APPLICATION_ENVIRONMENT)throw e;g.Tb(e,{extra:{info:null==t?void 0:t.componentStack}})}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===h.v.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){if(this.props.unhandledRejectionFilter(e)){var t;let n=(null===(t=e.reason)||void 0===t?void 0:t.message)||"";this.setState({hasError:!0,errMessage:n})}}render(){let e=!0===m(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,i.jsxs)(i.Fragment,{children:[this.state.hasError&&(0,i.jsx)(f.q,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}_.defaultProps={unhandledRejectionFilter:e=>{var t;return!!m((null===(t=e.reason)||void 0===t?void 0:t.message)||"")||e.reason instanceof p.YBv&&!1===document.hidden||e.reason instanceof p.R5s}},n(61036),n(62376),n(6991),n(76298),n(4466),n(43839),n(40917);var v=n(14625),y=n(69962),b=n(60094),w=n(82037),E=n(54901),C=n(58974),I=n(16202),S=n(71383);let A=e=>{console.debug("%c[useApiRefetch] Refetching due to ".concat(e),"background-color: aqua"),(0,E.WQ)().reFetchObservableQueries()},T=()=>{let e=(0,S.qr)(),t=(0,d.useRef)(!1),n=(0,d.useRef)(null),r=(0,d.useCallback)(e=>{n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{A(e),n.current=null},3e3)},[]),i=(0,d.useCallback)(()=>(0,I.aF)(e.getState()).backgrounded,[e]);(0,C.js)("online",(0,d.useCallback)(()=>{if(i()){t.current=!0;return}r("online")},[r,i])),(0,C.js)("wakeup",(0,d.useCallback)(()=>{if(i()){t.current=!0;return}r("wakeup")},[r,i])),(0,C.js)("foreground",(0,d.useCallback)(()=>{t.current&&(r("foreground"),t.current=!1)},[r]))},P=Number(new URLSearchParams(h.v.IS_CLIENT_SIDE?window.location.search:"").get("MAX_BACKGROUND_TIME_ALLOWED"))||432e5,k=()=>{let e=(0,d.useRef)(!1),t=(0,d.useCallback)(t=>{t.timeInBackground&&!e.current&&t.timeInBackground>P&&(e.current=!0,window.location.reload())},[]);(0,C.js)("foreground",t)},O=(0,d.memo)(()=>((0,C.i6)(),T(),k(),null));O.displayName="ConnectionMonitor";var D=n(73235),x=n(42795),j=n(17861);function N(){let e=(0,D._)(["^",""]);return N=function(){return e},e}var L=n(52138),R=n(37012),M=n(70212),U=n(99092),F=n(31601),H=n(97134);let G=(e,t)=>{U.H.init(h.v.HIGHLIGHT_PROJECT_ID,{environment:h.v.APPLICATION_ENVIRONMENT,sessionShortcut:!!t&&"shift+command+0",enableStrictPrivacy:e,enableSegmentIntegration:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0}}),F.co.loadSdkPromise.then(e=>{e&&e.addSourceMiddleware(U.LZ)})},B=e=>{let{children:t}=e,{user:n,anonymousUser:r,isGammaOrgUser:a,isUserLoading:o}=(0,H.SE)(),{enabled:s,enableStrictPrivacy:l}=(0,R.ye)("highlight");return(0,d.useEffect)(()=>{s&&!o&&n&&G(l,a)},[l,s,a,o,n]),(0,d.useEffect)(()=>{if(!o){if(n){let{id:e,displayName:t,email:r,profileImageUrl:i}=n;U.H.identify(e,{highlightDisplayName:t,email:r,avatar:i})}else if(null==r?void 0:r.id){let{id:e,displayName:t}=r;U.H.identify("",{anonDisplayName:t||"",anonId:e})}}},[n,r,o]),(0,i.jsx)(i.Fragment,{children:t})};var q=n(36660),Y=n(87254),K=n(5879),V=n(23304),W=n(66576),z=n(29469);let X=e=>{let{children:t}=e;return(0,W.K)(),(0,V.b)(),(0,z.U)(),(0,i.jsx)(K.bd,{i18n:Y.ag,children:t})};var Q=n(83639),J=n(53650),Z=n(69341),$=n(89328),ee=n(9010),et=n(49803),en=n(30733),er=n.n(en),ei=n(12753);class ea{async enable(){try{await window.serwist.register()}catch(e){console.error("Error registering Serwist service worker:",e)}}async disable(){try{for(let e of(await navigator.serviceWorker.getRegistrations()))console.debug("offlineMode - [SerwistOfflineCache] Unregistering service worker:",e),await e.unregister()}catch(e){console.error("Error unregistering Serwist service worker:",e)}try{await this.clearCaches()}catch(e){console.error("Error clearing caches",e)}this.store.dispatch((0,ei.Dz)())}async debug(){let e=await window.caches.keys();return{cache:(await Promise.all(e.map(async e=>{let t=await window.caches.open(e).then(e=>e.matchAll());return[e,t]}))).reduce((e,t)=>(e[t[0]]=t[1],e),{})}}async gc(e){}async clearCaches(){try{if(!window.caches)return;for(let e of(await window.caches.keys()))await window.caches.delete(e);console.debug("offlineMode - [SerwistOfflineCache] Serwist caches cleared successfully")}catch(e){console.error("Error clearing caches",e)}}constructor(){this.store=(0,S.bh)()}}let eo=er()(()=>new ea);var es=n(43848),el=n(18308),ec=n(54073),ed=n.n(ec),eu=n(18149),eh=n.n(eu);let eg="offline-state-v1",ep=e=>{let t=ef(),n=null;t&&(console.debug("offlineMode - [setupOfflineManagerPersistence] LOADING PERSISTED STATE",t),e.dispatch((0,ei.m0)(t)),n=t);let r=ed()(e=>{em(e)},500);return e.subscribe(()=>{let t=(0,ei.S_)(e.getState());if(n!==t){if(eh()(n,t)){n=t;return}n=t,console.debug("offlineMode - [setupOfflineManagerPersistence] PERSISTING STATE",t),r(t)}})},ef=()=>{try{let e=localStorage.getItem(eg);return JSON.parse(e)}catch(e){return null}},em=async e=>{try{let t=JSON.stringify(e);localStorage.setItem(eg,t)}catch(e){console.error("Error persisting state",e)}},e_=(0,el.K)();class ev{get enabled(){return(0,ei.aL)(this.store.getState())}async init(){if(!e_){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}this.cleanupFns.push(ep(this.store)),await this.notifyCaches(this.enabled),console.debug("offlineMode - [OfflineManager] caches initialized",this.enabled),this.setupFeatureFlagSubscription(),this.setupConnectionListener(),console.debug("offlineMode - [OfflineManager] subscriptions initialized")}setupConnectionListener(){let e=$.L.on("offline",()=>{this.apolloOfflineCache.useOfflineCache()}),t=$.L.on("online",()=>{this.apolloOfflineCache.backOnline()});this.cleanupFns.push(t),this.cleanupFns.push(e)}setupFeatureFlagSubscription(){R.VH.initializePromise.then(()=>{let e=R.VH.get("offline");e!==this.enabled&&(e?this.enable():this.disable()),this.cleanupFns.push(R.VH.subscribe("offline",e=>{e?this.enable():this.disable()}))})}async enable(){if(!e_){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}if(this.enabled){console.warn("Offline mode already enabled");return}let{user:e,status:t}=await (0,ee.r)({returnOfflineUser:!1});if("loggedIn"!==t){console.warn("[OfflineManager] Offline mode user not logged in");return}await this.notifyCaches(!0),this.store.dispatch((0,ei.RB)({user:e,lastSynced:new Date().toISOString()}))}async disable(){if(!e_){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}if(!this.enabled){console.warn("[OfflineManager] Offline mode already disabled");return}await this.notifyCaches(!1),this.store.dispatch((0,ei.Iq)())}async notifyCaches(e){return Promise.all(e?this.caches.map(e=>e.enable()):this.caches.map(e=>e.disable()))}cleanup(){for(;this.cleanupFns.length>0;){var e;null===(e=this.cleanupFns.pop())||void 0===e||e()}}constructor(){this.store=(0,S.bh)(),this.serwistOfflineCache=eo(),this.ydocOfflineCache=(0,es.H)(),this.apolloOfflineCache=(0,et.a)(),this.caches=[this.serwistOfflineCache,this.ydocOfflineCache,this.apolloOfflineCache],this.cleanupFns=[]}}let ey=async()=>{if(r)throw Error("OfflineManager already initialized");try{r=new ev,await r.init()}catch(e){console.error("Error initializing OfflineManager",e)}};window.getOfflineManagerState=()=>(0,S.bh)().getState().OfflineManager,window.getOfflineManager=()=>r;var eb=n(44007),ew=n(1384),eE=n(55516);let eC="no_org_id",eI=e=>{let{children:t}=e;(0,ew.iZ)();let{user:n,anonymousUser:r,currentWorkspace:a,isUserLoading:o}=(0,H.SE)();return(0,d.useEffect)(()=>{let e=(0,eE.K)();(0,eb.$n)(e.get()),e.fetch().then(eb.$n).catch(()=>{})},[]),(0,d.useEffect)(()=>{let e;if(!o){if(n){let{id:t,email:r}=n,i=!!r&&r.endsWith("@gamma.app");e={userId:t,isGammaUser:i,userOrgId:(null==a?void 0:a.id)||eC,anonymousUser:!1,gammaUserFirstName:i?n.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:eC,anonymousUser:!0,gammaUserFirstName:""};(0,eb.$n)(e)}},[o,n,r,a]),(0,i.jsx)(i.Fragment,{children:t})};var eS=n(29243),eA=n(76009),eT=n(69876),eP=n(26073),ek=n(77482),eO=n(92035),eD=n(28817),ex=n(19358),ej=n(69465);o.vc.autoAddCss=!1;let eN=(0,S.bh)();ey();let eL=(0,p.RqP)({supportOfflineMode:!0}),eR=(0,p.PGq)();(0,eD.Lq)(),J.F7.initialize(),(0,q.lt)(),F.co.init(),x.fy.init({clientToken:h.v.DATADOG_CLIENT_TOKEN,service:"gamma-client",env:h.v.APPLICATION_ENVIRONMENT.replace("production","prod"),site:"datadoghq.com",forwardErrorsToLogs:!1,forwardConsoleLogs:[],sessionSampleRate:100}),function(){let e=new RegExp(String.raw(N(),h.v.API_HOST));if(h.v.DATADOG_RUM_CLIENT_TOKEN){var t;j.v.init({applicationId:h.v.DATADOG_APP_ID,clientToken:h.v.DATADOG_RUM_CLIENT_TOKEN,site:"datadoghq.com",service:"app",env:h.v.APPLICATION_ENVIRONMENT.replace("production","prod"),sessionSampleRate:null!==(t=h.v.DATADOG_RUM_SAMPLE_RATE)&&void 0!==t?t:10,sessionReplaySampleRate:0,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",allowedTracingUrls:[{match:e,propagatorTypes:["tracecontext"]}]})}}(),(0,Q.S1)(),(0,L.u7)(),(0,eT.a)("appMainBundleLoaded"),R.VH.get("debugLogging")||(window.console.debug=()=>{});let eM=e=>function(t){return(0,i.jsx)(eU,{children:(0,i.jsx)(e,{...t})})},eU=e=>{let{children:t}=e,n=(0,c.useRouter)();(0,eS.l)(),(0,ex.k)(),(0,v.U)(),(0,d.useEffect)(()=>{let e=(e,t)=>{let{shallow:n}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(n?"with":"without"," shallow routing"))};return n.events.on("routeChangeStart",e),()=>{n.events.off("routeChangeStart",e)}},[n]);let r=(0,eP.aY)();return(0,i.jsx)(u.zt,{store:eN,children:(0,i.jsx)(X,{children:(0,i.jsx)(w.E,{children:(0,i.jsx)(_,{children:(0,i.jsx)(a.e,{client:eL,children:(0,i.jsxs)(p.mdV,{client:eR,children:[(0,i.jsx)(eH,{}),(0,i.jsx)(y.H6,{}),(0,i.jsx)(Q.GQ,{}),(0,i.jsx)(ek.D,{}),(0,i.jsx)(b.S,{}),(0,i.jsx)(O,{}),(0,i.jsxs)(H.fS,{children:[(0,i.jsx)(eA.qA,{children:(0,i.jsx)(R.dF,{children:(0,i.jsx)(Z.S,{children:(0,i.jsx)(eI,{children:(0,i.jsx)(B,{children:(0,i.jsx)(eP.dv,{value:r,children:(0,i.jsx)(M.u,{children:t})})})})})})}),(0,i.jsx)(R.MG,{})]})]})})})})})})},eF="A new medium for presenting ideas, powered by AI. Beautiful, engaging content with none of the formatting and design work.",eH=()=>{let e=h.v.APPLICATION_ENVIRONMENT;return(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"Gamma"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,i.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,i.jsx)("link",{rel:"shortcut icon",href:"production"===e?"/favicons/favicon-192.svg":"staging"===e?"/favicons/favicon_staging.jpg":"/favicons/favicon_local.jpg"}),(0,i.jsx)("meta",{content:eF,name:"description"},"description"),(0,i.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,i.jsx)("meta",{content:eF,property:"og:description"},"og:description"),(0,i.jsx)("meta",{content:h.v.OG_IMAGE_URL,property:"og:image"},"og:image"),(0,i.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,i.jsx)("meta",{content:eF,property:"twitter:description"},"twitter:description"),(0,i.jsx)("meta",{content:h.v.OG_IMAGE_URL,property:"twitter:image"},"twitter:image"),(0,i.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,i.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,i.jsx)("meta",{name:"google",content:"notranslate"}),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,i.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,eO.l6)()&&!(0,ej.wg)()&&(0,i.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,i.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},49414:function(e,t,n){"use strict";n.d(t,{q:function(){return E}});var r=n(52322),i=n(38035),a=n(43297),o=n(77533),s=n(49259),l=n(87436),c=n(95897),d=n(28535),u=n(89511),h=n(11121),g=n(44438),p=n(42822),f=n(62614),m=n(75009),_=n(64253),v=n(5879),y=n(23491),b=n(44400);let w=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.cC,{id:"nwtY4N"})," ",(0,r.jsx)("span",{role:"img","aria-label":"sad face",children:"\uD83D\uDE15"})]}),E=e=>{let{errMessage:t=w,showDisclosure:n=!1,opacity:E=1,backgroundColor:C=_.qZ.colors.trueblue[900],...I}=e;return(0,r.jsx)(i.k,{"data-error-component":!0,w:"100vw",h:"100vh",overflow:"hidden",justify:"center",align:"center",zIndex:99999,backgroundColor:(0,y.tT)(C,E),...I,children:(0,r.jsxs)(b.qX,{lede:"",title:(0,r.jsx)(v.cC,{id:"HbR60U"}),stackProps:{shadow:"lg",position:"relative"},children:[(0,r.jsxs)(a.K,{spacing:8,children:[(0,r.jsx)(o.x,{children:(0,r.jsx)(v.cC,{id:"1gm+lP"})}),n&&(0,r.jsx)(s.U,{allowToggle:!0,pt:4,children:(0,r.jsxs)(l.Q,{children:[(0,r.jsxs)(c.K,{px:0,_hover:{bgColor:"none"},borderStyle:"none",children:[(0,r.jsx)(d.xu,{flex:"1",textAlign:"left",children:(0,r.jsx)(v.cC,{id:"qug3k/"})}),(0,r.jsx)(u.X,{})]}),(0,r.jsx)(h.H,{pb:4,children:(0,r.jsx)(g.E,{colorScheme:"red",children:t})})]})}),(0,r.jsx)(p.M,{children:(0,r.jsx)(f.z,{variant:"solid",size:"lg",m:6,onClick:()=>{window.location.reload()},children:(0,r.jsx)(v.cC,{id:"C6f2hU"})})})]}),(0,r.jsx)(m.E,{pos:"absolute",w:36,bottom:"calc(-100% + 120px)",right:-12,src:"/_next/static/media/Sal-Asteroid-Parachute.ad317576.png",pointerEvents:"none",opacity:{base:0,md:1}})]})})}},14625:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(2784),i=n(95405),a=n(31601),o=n(47211);let s=()=>{let e=(0,r.useRef)(!1),t=(0,r.useRef)(new Map);(0,r.useEffect)(()=>{if("production"!==i.v.APPLICATION_ENVIRONMENT)return;let n=()=>{if(e.current)return;let n=t.current.get("total"),r=t.current.get("notTrusted");r/n>.5&&n>5&&(e.current=!0,o.c.track(a.xW.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:n,notTrustedEvents:r}))},r=e=>{e.isTrusted||t.current.set("notTrusted",(t.current.get("notTrusted")||0)+1),t.current.set("total",(t.current.get("total")||0)+1),n()};return document.addEventListener("paste",r,{capture:!0}),document.addEventListener("mousedown",r,{capture:!0}),document.addEventListener("keydown",r,{capture:!0}),()=>{document.removeEventListener("paste",r,{capture:!0}),document.removeEventListener("mousedown",r,{capture:!0}),document.removeEventListener("keydown",r,{capture:!0})}},[])}},69962:function(e,t,n){"use strict";n.d(t,{$C:function(){return h},H6:function(){return u},Uj:function(){return g}});var r=n(52322),i=n(5632),a=n(73534),o=n.n(a),s=n(95405),l=n(40382),c=n(63331);let d=["/signin","/signup","/invitations/workspaces/[workspaceId]"],u=()=>{let e=(0,i.useRouter)().pathname;return!(0,l.gF)()||d.includes(e)?null:(0,r.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,r.jsx)(o(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(s.v.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),g=async e=>(await (0,c.X)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,n)=>{grecaptcha.enterprise.ready(async()=>{try{let n=await grecaptcha.enterprise.execute(s.v.RECAPTCHA_SCORING_KEY,{action:e});t(n)}catch(e){console.log(e),n(e)}})}))},86506:function(e,t,n){"use strict";n.d(t,{R:function(){return _},c:function(){return v}});var r=n(52322),i=n(70065),a=n(5879),o=n(5632),s=n(2784),l=n(85949),c=n(37012),d=n(5361),u=n(81486),h=n(7715),g=n(61652),p=n(97875),f=n(80180),m=n(97134);let _={example_deck_clone_toast:l.L17.DuplicateInspiration,import_google_doc:l.L17.ImportGoogleDoc,import_google_slides:l.L17.ImportGoogleSlides,import_docx:l.L17.ImportDocx,import_pptx:l.L17.ImportPptx,import_webpage:l.L17.ImportWebpage,import_pdf:l.L17.ImportPdf,blank:l.L17.Blank,template_browser:l.L17.DuplicateTemplate,get_started_modal:l.L17.Blank,template_modal_griditem:l.L17.DuplicateTemplate,template_dashboard_griditem:l.L17.DuplicateTemplate,template_modal_preview:l.L17.DuplicateTemplate,template_modal_preview_create_theme:l.L17.DuplicateTemplate,"slash-new":l.L17.SlashNew,editor_toolbar_doc_menu_duplicate:l.L17.DuplicateDoc,dashboard_docs_view_duplicate:l.L17.DuplicateDoc,ai_generated:l.L17.AiGenerated,ai_generated_advanced:l.L17.AiGenerated,sites_add_page:l.L17.SitesAddPage,sites_copy_to_site:l.L17.SitesCopyToSite,sites_duplicate_page:l.L17.SitesDuplicatePage},v=()=>{let{user:e,currentWorkspace:t}=(0,m.SE)(),n=(0,c.ye)("cardLayoutsEnabled"),[v,{data:y,loading:b}]=(0,l.CsQ)(),{push:w,replace:E}=(0,o.useRouter)(),C=(0,i.p)();return[(0,s.useCallback)(i=>{var o;let s=null==e?void 0:null===(o=e.settings)||void 0===o?void 0:o.needsEditorOnboarding,l=i.source,c=null==i?void 0:i.channelId,m=(null==i?void 0:i.historyFn)==="replace"?E:w;if(!(null==t?void 0:t.id)){console.error("[createDocAndNavigate] No currentWorkspace found");return}let y={cardLayoutsEnabled:n},b=i.docSettings||g.STYLE_TEMPLATES.deck_default.docSettings,I=i.format||"deck",S=(null==i?void 0:i.document)?i.document:"empty"==(s?"quickstart":"empty")?(0,u.bx)(e,{docFlags:y,settings:{...b,...(0,h.Y)()},format:I}):(0,u.VK)(e,{docFlags:y,settings:{...b,...(0,h.Y)()},format:I}),A=(0,f.qI)(S);return console.debug("[createDocAndNavigate] Creating doc",{document:S,encodedDocument:A}),v({variables:{workspaceId:null==t?void 0:t.id,title:(null==i?void 0:i.title)||"",source:_[i.source],initialContent:{ydoc:A,schemaVersion:p.bI,editors:[null==e?void 0:e.id]},...c?{channels:[{channelId:c}]}:{}}}).then(async e=>{let{data:t}=e;(0,d.Q)({doc_id:null==t?void 0:t.createDoc.id,source:l,channel:c||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==t?void 0:t.createDoc.id),m("/docs/".concat(null==t?void 0:t.createDoc.id).concat(s?"?tour=true":""))}).catch(e=>{console.error("[createDocAndNavigate]",e),C({title:(0,r.jsx)(a.cC,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[n,v,null==t?void 0:t.id,w,E,C,e]),{data:y,loading:b}]}},60094:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(92035),i=n(40382),a=n(69465);let o=()=>{let e=!(0,r.l6)()&&!(0,a.wg)();return(0,i.GE)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},82037:function(e,t,n){"use strict";n.d(t,{E:function(){return h}});var r=n(52322),i=n(62202),a=n(78360),o=n(64253),s=n(2784),l=n(32132),c=n(80615),d=n(54839);let u=(e,t)=>{if(e.globalToast)return;let n=(0,d.I)({theme:t});e.globalToast=n},h=e=>{let{children:t}=e,n=(0,c.l)(),d=l.w$[n],h=(null==d?void 0:d.rtl)===!0?"rtl":"ltr",g=(0,s.useMemo)(()=>(0,i.B1)(o.qZ,{direction:h,styles:{global:{".ProseMirror":{outline:"0 none"}}}}),[h]);return(0,s.useEffect)(()=>{u(window,g)},[]),(0,r.jsx)(a.x,{theme:g,resetCSS:!0,children:t})}},53250:function(e,t,n){"use strict";n.d(t,{S1:function(){return w},B_:function(){return I},ET:function(){return E}});var r=n(2784),i=n(95405),a=n(41638),o=n(37012),s=n(80615),l=n(82528),c=n(2529),d=n(31601),u=n(97134),h=n(92035),g=n(3158),p=n(69465),f=n(87254),m=n(82108),_=n.n(m),v=n(23691);let y=(e,t)=>{let n=_()(t);return{[e]:{next:f.ag._({id:"hXzOVo"}),back:f.ag._({id:"iH8pgl"}),nevermind:f.ag._({id:"CKyk7Q"}),goToAccount:f.ag._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:v.N6}}),getHelp:f.ag._({id:"pWsyuL"}),declineOffer:f.ag._({id:"aIFikE"}),confirmAndCancel:f.ag._({id:"G9nPRC"}),pauseSubscription:f.ag._({id:"2RgEmU"}),cancelSubscription:f.ag._({id:"dEgA5A"}),discountSubscription:f.ag._({id:"qG4Wa/"}),claimOffer:f.ag._({id:"/Gl/RK"}),discountOff:f.ag._({id:"Bdtwnw"}),discountFor:f.ag._({id:"sQv06Y"}),discountForever:f.ag._({id:"FsOOWf"}),discountOneTime:f.ag._({id:"HpXCa4"}),day:f.ag._({id:"5YWExy"}),month:f.ag._({id:"obrMay"}),year:f.ag._({id:"/Tw548"}),error:f.ag._({id:"wTrpxV"}),genericErrorDescription:f.ag._({id:"PUjJ3A"}),cancelNow:f.ag._({id:"EiakwV"}),applyingDiscount:f.ag._({id:"8kSYjw"}),applyingCancel:f.ag._({id:"VpuvNv"}),applyingResume:f.ag._({id:"eIoGiX"}),applyingPause:f.ag._({id:"UD7gOq"}),discountApplied:f.ag._({id:"jdYyiz"}),discountAppliedMessage:f.ag._({id:"DhHX6G"}),pauseApplied:f.ag._({id:"eeITvj"}),pauseAppliedMessage:f.ag._({id:"nm0VaE"}),pauseAppliedResumeMessage:f.ag._({id:"qOe0SS"}),pauseScheduledMessage:f.ag._({id:"mqRc6d"}),until:f.ag._({id:"C51N+0"}),cancelApplied:f.ag._({id:"Wcg6zu"}),cancelAppliedMessage:f.ag._({id:"8vN97Y"}),cancelAppliedDateMessage:f.ag._({id:"BS/SGu"}),howLongToPausePrompt:f.ag._({id:"HLyJ9n"}),whatCouldWeHaveDone:f.ag._({id:"fcbm8H"}),weReadEveryAnswer:f.ag._({id:"nkuKRd"}),applyingCustomerAction:f.ag._({id:"PXwF+s"}),loading:f.ag._({id:"Z3FXyt"}),pauseWallCardPunch:f.ag._({id:"iL2TQ6"}),pauseWallCta:f.ag._({id:"TvXj47"}),pauseWallCardHeading:f.ag._({id:"kHm8Fg"}),scheduledToReactivate:f.ag._({id:"aH7vi8"}),resumeApplied:f.ag._({id:"diOgYK"}),resumeAppliedMessage:f.ag._({id:"YqFvUY"}),resumeNextChargeMessage:f.ag._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:f.ag._({id:"RrvVAn"}),resumeAccountDataInfo:f.ag._({id:"dJCJXA"}),subscriptionPauseNotice:f.ag._({id:"fpxliT"}),failedPaymentNotice:f.ag._({id:"Vxg5vO"}),chargedMultipleTimeNotice:f.ag._({id:"lAlv46"}),failedPaymentCardPunch:f.ag._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:v.N6,productName:n}}),resumeHey:f.ag._({id:"hdOctW"}),invoicePaidTitle:f.ag._({id:"aJGfDL"}),logout:f.ag._({id:"W+3RJN"}),note:f.ag._({id:"ycCSuD"}),discount:f.ag._({id:"HmpVeZ"}),discountNoticeHeadline:f.ag._({id:"5P1dmt"}),discountNoticePrepend:f.ag._({id:"yjadEY"}),discountOverride:f.ag._({id:"JfBDWL"}),discountValidUntil:f.ag._({id:"uXxNua"}),updateBilling:f.ag._({id:"tQilrI"}),extendTrialCTA:f.ag._({id:"m3l7VI"}),extendTrialPunch:f.ag._({id:"s5pINo"}),extendTrialOfferTitle:f.ag._({id:"SyzXYh"}),trialExtended:f.ag._({id:"fezME2"}),trialExtendedMessage:f.ag._({id:"QE4mUs"}),applyingTrialExtension:f.ag._({id:"vI2q9R"}),switchPlanCTA:f.ag._({id:"P2mx2L"}),changePlanHighlights:f.ag._({id:"qbgW+C"}),changePlanOfferPunch:f.ag._({id:"MRkiFP"}),planChanged:f.ag._({id:"ByFtyh"}),planChangedMessage:f.ag._({id:"Pf5z1G"}),applyingPlanChange:f.ag._({id:"9vKKLI"}),surveyStepTag:f.ag._({id:"cSUBI1"}),freeFormStepTag:f.ag._({id:"cSUBI1"}),finalConfirmation:f.ag._({id:"1/oP/N"}),offerDiscountTag:f.ag._({id:"LTgtxG"}),offerChangePlanTag:f.ag._({id:"ENMJv2"}),offerExtendTrialTag:f.ag._({id:"MWKntz"}),offerRedirectTag:f.ag._({id:"cvpAvL"}),offerContactTag:f.ag._({id:"cvpAvL"}),offerPauseTag:f.ag._({id:"+T6DGl"}),completeTag:f.ag._({id:"K5c1e7"}),errorTag:f.ag._({id:"EuvbIW"}),offerAccepted:f.ag._({id:"ZU0opP"})}}},b="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(i.v.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),w=()=>{let e=!(0,h.l6)()&&!(0,p.wg)();return(0,g.G)(e,b),null},E=e=>{var t;let{subscription:n,workspace:d,autoLaunch:h=!0}=e,{user:g}=(0,u.SE)(),p=(0,o.ye)("churnkeyFailedPaymentWallEnabled"),f=(0,s.l)(),m=(0,c.K9)(d),_=(0,l.G)(),v=p&&(null==g?void 0:g.id)===(null==n?void 0:null===(t=n.createdByUser)||void 0===t?void 0:t.id),y=(0,r.useCallback)(async()=>{if(n&&m&&v)return(0,a.d6)("churnkey").then(e=>{var t,r;if(!e||!n.billingSubscriptionId||!(null===(t=n.createdByUser)||void 0===t?void 0:t.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:n});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:i.v.CHURNKEY_APP_ID,subscriptionId:n.billingSubscriptionId,customerId:null===(r=n.createdByUser)||void 0===r?void 0:r.billingCustomerId}),C({authHash:e,subscription:n,localeKey:f,productKey:m,launchIntercomUI:_})})},[n,m,v,f,_]);return(0,r.useEffect)(()=>{h&&y()},[y,h]),{launchFailedPaymentFlow:y,failedPaymentFlowEnabled:v}},C=async e=>{var t,n;let{authHash:r,subscription:a,localeKey:o,productKey:s,launchIntercomUI:l}=e;null===(n=window.churnkey)||void 0===n||n.check("failed-payment",{subscriptionId:a.billingSubscriptionId,customerId:null===(t=a.createdByUser)||void 0===t?void 0:t.billingCustomerId,authHash:r,customerAttributes:{language:o},i18n:{lang:o,messages:y(o,s)},appId:i.v.CHURNKEY_APP_ID,mode:i.v.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;l(),d.co.track(d.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:a.billingSubscriptionId,customerId:null===(e=a.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var t,n;return d.co.track(d.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:a.billingSubscriptionId,customerId:null===(t=a.createdByUser)||void 0===t?void 0:t.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:a.billingSubscriptionId,customerId:null===(n=a.createdByUser)||void 0===n?void 0:n.billingCustomerId,customer:e}),S({authHash:r,subscription:a,localeKey:o,productKey:s,launchIntercomUI:l,customerAttributes:{viaFailedPayment:!0}}).catch(e=>C({authHash:r,subscription:a,localeKey:o,productKey:s,launchIntercomUI:l}))},onFailedPaymentWallActivated(){var e;d.co.track(d.AA.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:a.billingSubscriptionId,customerId:null===(e=a.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;d.co.track(d.AA.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:a.billingSubscriptionId,customerId:null===(e=a.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;d.co.track(d.AA.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:a.billingSubscriptionId,customerId:null===(e=a.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;d.co.track(d.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:a.billingSubscriptionId,customerId:null===(e=a.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,t){console.warn('Churnkey check("failed-payment", ...) error',e,t)}})},I=(e,t)=>{let n=(0,o.ye)("churnkeyCancelFlowEnabled"),i=(0,s.l)(),d=(0,c.K9)(t),u=(0,l.G)();return{launchCancelFlow:(0,r.useCallback)(()=>{if(e&&d&&n)return(0,a.d6)("churnkey").then(t=>{var n;if(!t||!e.billingSubscriptionId||!(null===(n=e.createdByUser)||void 0===n?void 0:n.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:t,subscription:e});return}return S({authHash:t,subscription:e,localeKey:i,productKey:d,launchIntercomUI:u})})},[n,i,d,e,u]),cancelFlowEnabled:n}},S=async e=>{let{authHash:t,subscription:n,localeKey:r,productKey:a,customerAttributes:o={},launchIntercomUI:s}=e;return new Promise((e,l)=>{var u,h,g;null===(g=window.churnkey)||void 0===g||g.init("show",{subscriptionId:n.billingSubscriptionId,customerId:null===(u=n.createdByUser)||void 0===u?void 0:u.billingCustomerId,authHash:t,customerAttributes:{language:r,frequency:null===(h=(0,c.OJ)(n))||void 0===h?void 0:h.frequencyUnit,productKey:a,...o},i18n:{lang:r,messages:y(r,a)},appId:i.v.CHURNKEY_APP_ID,mode:i.v.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;s(),d.co.track(d.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:n.billingSubscriptionId,customerId:null===(e=n.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,t,r){var i;d.co.track(d.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:n.billingSubscriptionId,customerId:null===(i=n.createdByUser)||void 0===i?void 0:i.billingCustomerId,surveyResponse:t,freeformFeedback:r}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:t,freeformFeedback:r})},onGoToAccount(t){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:t}),e({sessionResults:t})},onClose(t){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:t}),!t||t.aborted){l("Churnkey cancel flow aborted");return}e({sessionResults:t})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),l({message:e})}})})}},29469:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(2784),i=n(32132),a=n(80615);let o=()=>{let e=(0,a.l)();(0,r.useEffect)(()=>{var t;let n=(null===(t=i.w$[e])||void 0===t?void 0:t.rtl)===!0;document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir",n?"rtl":"ltr")},[e])}},83639:function(e,t,n){"use strict";n.d(t,{GQ:function(){return g},S1:function(){return r.S}});var r=n(82004),i=n(52322),a=n(95405),o=n(56960),s=n(71383),l=n(92035),c=n(40382),d=n(69465),u=n(69423);let h="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(a.v.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),g=()=>{let e=!(0,o.y)("zendesk")&&!(0,l.l6)()&&!(0,d.wg)();(0,c.GE)(e,h);let t=(0,s.CG)(u.Dm);return(0,c.gF)()&&e?(0,i.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(t?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(t?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},69341:function(e,t,n){"use strict";n.d(t,{S:function(){return _}});var r=n(52322),i=n(55478),a=n(2784),o=n(8940),s=n(53250),l=n(37012),c=n(36660),d=n(76009),u=n(91076),h=n(33279),g=n(43163),p=n(2529),f=n(16720);let m="get-gamma-pro",_=e=>{var t,n;let{children:_}=e,{currentWorkspace:v,isUserLoading:y}=(0,u.SE)(),[b,w]=(0,a.useState)(!1),E=(0,d.z$)(),C=(0,l.ye)("upsellUXEnabled_Pro"),{data:I,refetch:S}=(0,o.FaU)({variables:{workspaceId:null==v?void 0:v.id,includeExpired:!0},skip:!(null==v?void 0:v.id)}),A=null==I?void 0:I.subscription;(0,s.ET)({subscription:A,workspace:v,autoLaunch:!0});let{data:T}=(0,o.kNl)({variables:{workspaceId:null==v?void 0:v.id},skip:!v}),P=null==T?void 0:null===(t=T.products)||void 0===t?void 0:t.find(e=>"pro"===e.key),k=null==P?void 0:null===(n=P.prices)||void 0===n?void 0:n.find(e=>e.frequencyUnit===o.C_B.Year),O=(0,p.K9)(v),{isOpen:D,onOpen:x,onClose:j}=(0,i.q)({id:"upsell-modal"}),N=(0,a.useRef)(null),L=(0,a.useCallback)(e=>{let{onOpenCallback:t,onCloseCallback:n,insufficientCreditsWarning:r,segmentEvent:i,eventProperties:a}=e;C&&(w(!!r),null==t||t(),x(),null==E||E.track(i,a),N.current=n||null)},[E,x,C]),R=(0,a.useCallback)(()=>{var e;null==N||null===(e=N.current)||void 0===e||e.call(N),j(),N.current=null,w(!1)},[j]),[M,U]=(0,a.useState)({openUpsellModal:L,product:O,subscription:A,proYearlyProductPrice:k});return(0,a.useEffect)(()=>{"true"!==(0,h.SJ)()[m]||y||!v||(x(),(0,c.lO)({query:{...(0,h.SJ)(),[m]:void 0},emitChange:!1}))},[x,v,y]),(0,a.useEffect)(()=>{U({openUpsellModal:L,refetchSubscription:S,product:O,subscription:A,proYearlyProductPrice:k})},[L,O,A,k,S]),(0,r.jsxs)(f.P.Provider,{value:M,children:[_,D&&(0,r.jsx)(g.b,{insufficientCreditsWarning:b,isUpsellModalOpen:D,closeUpsellModal:R}),(0,r.jsx)(s.S1,{})]})}},43848:function(e,t,n){"use strict";n.d(t,{H:function(){return A}});var r=n(54073),i=n.n(r),a=n(30733),o=n.n(a),s=n(67304),l=n.n(s),c=n(60628),d=n(71383),u=n(60589),h=n(6092),g=n(69180);let p="custom",f="updates",m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},[n]=u.ay(e.db,[f]);return u.go(n,u.sc(e._dbref,!1)).then(r=>{t(n),g.ay(e.doc,()=>{r.forEach(t=>g.NG(e.doc,t))},e,!1)}).then(()=>u.S_(n).then(t=>{e._dbref=t+1})).then(()=>u.QX(n).then(t=>{e._dbsize=t})).then(()=>n)},_=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return m(e).then(n=>{(t||e._dbsize>=500)&&u.yP(n,g.D$(e.doc)).then(()=>u.IV(n,u.UE(e._dbref,!0))).then(()=>u.QX(n).then(t=>{e._dbsize=t}))})},v=e=>u.Lj(e);class y extends h.y{destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{u.Lj(this.name)})}get(e){return this._db.then(t=>{let[n]=u.ay(t,[p],"readonly");return u.U2(n,e)})}set(e,t){return this._db.then(n=>{let[r]=u.ay(n,[p]);return u.gz(r,t,e)})}del(e){return this._db.then(t=>{let[n]=u.ay(t,[p]);return u.IV(n,e)})}constructor(e,t){super(),this.doc=t,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=u.X3(e,e=>u._w(e,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(e=>(this.db=e,m(this,e=>u.yP(e,g.D$(t))).then(()=>(this._destroyed||(this.emit("synced",[this]),this.synced=!0),this)))),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(e,t)=>{if(this.db&&t!==this){let[t]=u.ay(this.db,[f]);u.yP(t,e),++this._dbsize>=500&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{_(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},t.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}}var b=n(78112),w=n(18308),E=n(8037),C=n(12753);let I=(0,w.T)();class S{async enable(){}async disable(){}get enabled(){return I&&((0,C.aL)(this.store.getState())||c.VH.get("offlineEditing"))}async loadYDoc(e,t){return this.enabled?!!(0,C.pG)(this.store.getState())[e]&&(this.setup(e,t),!0):(console.warn("Cannot setupForDocLoad when it is not enabled"),!1)}async syncYDoc(e,t){if(!this.enabled){console.warn("Cannot setup IndexedDB for doc as it is not enabled");return}await this.setup(e,t),this.store.dispatch((0,C.fz)({docId:e,lastSynced:new Date().toISOString()}))}setup(e,t){return new Promise(n=>{let r=new y(e,t),a=i()(()=>{let e=t.getMap("SCHEMA_VERSION").get("REQUIRED_VERSION");r.set("lastUpdated",new Date().toISOString()),r.set("schemaVersion",e||"")},1e3);t.on("update",a),r.on("synced",()=>{n()})})}async gc(){let e=Date.now(),t=Object.values(this.syncedYDocs).filter(t=>!!t.lastSynced&&e-new Date(t.lastSynced).getTime()>E.c).map(e=>e.docId),n=(0,b.yU)(this.store.getState());n?this.removeDocs(l()(t,n)):this.removeDocs(t)}async removeDocs(e){if(0===e.length)return;this.store.dispatch((0,C.h_)({docIds:e}));let t=e.map(e=>v(e));await Promise.all(t)}async debug(){return{syncedYdocs:this.syncedYDocs}}get syncedYDocs(){return(0,C.pG)(this.store.getState())}constructor(){this.store=(0,d.bh)()}}let A=o()(()=>new S)},18308:function(e,t,n){"use strict";n.d(t,{K:function(){return a},T:function(){return i}});var r=n(31240);let i=()=>"indexedDB"in window&&"localStorage"in window&&r.I,a=()=>"undefined"!=typeof navigator&&"serviceWorker"in navigator&&i()},1384:function(e,t,n){"use strict";n.d(t,{bf:function(){return f},iZ:function(){return g},lh:function(){return h},wK:function(){return p}});var r=n(2784),i=n(37012),a=n(71383),o=n(78112),s=n(33945),l=n(21562),c=n(44007);let d=e=>Math.random()<=1/e;class u{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let h=(e,t)=>{let n=(0,a.CG)(o.Pw),i=(0,r.useRef)(n);(0,r.useEffect)(()=>{i.current=n},[n]),(0,r.useEffect)(()=>{if(e)return window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0)};function n(e){if(!e.target.closest(".ProseMirror")||!i.current||!d(t))return;let n=performance.now();requestAnimationFrame(()=>{let t=e.key;" "===t&&(t="Space");let r=performance.now()-n;(0,c.EF)({...(0,l.H)(),key:t,duration:r})})}},[e,i,t])},g=()=>{let e=(0,i.ye)("rumSampleRate");(0,r.useEffect)(()=>{(0,c._k)(e)},[e])},p=e=>{let t=(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:s.q.SLIDE_VIEW,duration:e,isFullscreen:n})})})},[e]);return{recordExitSlideModePerformance:(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:s.q.DOC_VIEW,duration:e,isFullscreen:n})})})},[e]),recordEnterSlideModePerformance:t}},f=()=>{let[e]=(0,r.useState)(()=>new u),t=(0,r.useCallback)(()=>{e.setupProvider()},[e]),n=(0,r.useCallback)(()=>{e.downloadDoc()},[e]);return{timeOnCreate:(0,r.useCallback)(()=>{e.onCreate();let t=e.report();if(null===t){console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");return}(0,c.Py)({...(0,l.H)(),duration:t.onCreate}),(0,c.aZ)({...(0,l.H)(),duration:t.downloadDoc})},[e]),timeOnSetupProvider:t,timeOnDownloadDoc:n}}},29243:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(5632),i=n(2784),a=n(19210),o=n(18960);let s=()=>{let{pathname:e,isReady:t}=(0,r.useRouter)(),n=(0,i.useRef)(!1),[s,l]=(0,a.X)(o.H.lastHomeUrl,"/");(0,i.useEffect)(()=>{!n.current&&t&&(l("/inspiration"===e||"/templates"===e?e:"/"),n.current=!0)},[l,t,e])}},5361:function(e,t,n){"use strict";n.d(t,{J:function(){return o},Q:function(){return a}});var r=n(31601),i=n(81363);let a=e=>{let{doc_id:t,source:n,source_doc_id:a,channel:o,extra:s}=e;null===r.co||void 0===r.co||r.co.track(i.AA.DOC_CREATED,{doc_id:t,source_doc_id:a,source:n,channel:o,extra:s})},o=e=>{let{docId:t,type:n,source:a}=e;if(!t){console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");return}null===r.co||void 0===r.co||r.co.track(i.AA.DOC_SHARELINK_COPIED,{doc_id:t,source:a,type:n})}},7715:function(e,t,n){"use strict";n.d(t,{C:function(){return i},Y:function(){return a}});var r=n(37012);let i=e=>(null==e?void 0:e.animationsEnabled)===!0,a=()=>{let e=r.VH.get("editorAnimationsDefault"),t={};return e&&(t.animationsEnabled=!0),t}},77482:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var r=n(52322),i=n(73534),a=n.n(i),o=n(37012),s=n(92035),l=n(40382),c=n(69465);let d=()=>{let e=(0,o.ye)("zendesk")&&!(0,s.l6)()&&!(0,c.wg)();return(0,l.gF)()&&e?(0,r.jsx)(a(),{id:"ze-snippet",src:"https://static.zdassets.com/ekr/snippet.js?key=a0bef73f-af13-4ae9-ad67-25e2355724db",async:!0,defer:!0}):null}},19210:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(2784),i=n(92744);function a(e,t){let[n,a]=(0,r.useState)(()=>{try{let n=i.Q.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}});return[n,(0,r.useCallback)(t=>{try{i.Q.setItem(e,JSON.stringify(t)),a(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e])]}},62376:function(){},6991:function(){},76298:function(){},4466:function(){},43839:function(){},25237:function(e,t,n){e.exports=n(59246)}}]);
//# sourceMappingURL=8484-cb362065986b98f7.js.map