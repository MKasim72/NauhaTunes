(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{10366:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create/generate/[id]",function(){return n(11741)}])},91755:function(e,t,n){"use strict";n.d(t,{r:function(){return D},h:function(){return G}});var r=n(52322),i=n(332),o=n(38035),a=n(43297),s=n(77533),c=n(62614),l=n(81672),d=n(42946),u=n(49929),x=n(2784),p=n(92035),f=n(87103),m=n(40382),h=n(32817),g=n(69465),v=n(92744),j=n(5879),b=n(37012),y=n(33279),w=n(23691),k=n(11082),C=n(1997),N=n(71147),_=n(53250),M=n(86290),A=n(31601),P=n(97134),E=n(34308),R=n(82302),O=n(72928),Z=n(18960);let I=[{Component:()=>{let e=(0,b.ye)("outageButterbar");if(!e.enabled)return null;let{header:t,text:n,buttonLink:i,buttonText:o,key:a,pathnameRegexp:s}=e;return(0,r.jsx)(G,{definition:{key:a,header:t,text:n,buttonText:o,buttonLink:i,conditions:()=>!s||null!==window.location.pathname.match(new RegExp(s))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,b.ye)("openAiStatus")?null:(0,r.jsx)(G,{definition:{key:"ai-service-status",header:(0,r.jsx)(j.cC,{id:"1Agl06"}),text:(0,r.jsx)(j.cC,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,y._r)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,t,n;let{user:i,currentWorkspace:o}=(0,P.SE)(),{subscription:a,product:s}=(0,E.z)(),{launchFailedPaymentFlow:c,failedPaymentFlowEnabled:l}=(0,_.ET)({subscription:a,workspace:o,autoLaunch:!1});if(!a||!s)return null;let{name:d,dontChurnMessage:u}=(0,R.KL)()[s],{status:x,expirationTime:p,id:f}=a,m=(0,M.p6)(p,"MMMM do, yyyy"),h=(null==a?void 0:null===(e=a.createdByUser)||void 0===e?void 0:e.id)===(null==i?void 0:i.id),g=(0,O._8)(),v=p>Date.now();if(!("unpaid"===x||"past_due"===x)&&!v)return null;let b=g&&(h||!(null==a?void 0:a.createdByUser))?(0,r.jsx)(j.cC,{id:"velw1T",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:w.N6,productName:d},components:{0:(0,r.jsx)(k.r,{href:l?void 0:g,onClick:l?c:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,r.jsx)(j.cC,{id:"9aBOfk",values:{expirationFormatted:m,GAMMA_PROPER_NOUN:w.N6,productName:d,0:null===(t=a.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=a.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,r.jsx)("b",{}),1:(0,r.jsx)("b",{})}});return(0,r.jsx)(G,{definition:{key:"payment-overdue-".concat(f),header:(0,r.jsx)(j.cC,{id:"gosJne",values:{productName:d}}),text:(0,r.jsxs)(r.Fragment,{children:[u," ",b]}),buttonText:(0,r.jsx)(j.cC,{id:"WLvqZR"}),buttonLink:l?void 0:g,buttonOnClick:l?c:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:t}=(0,E.z)();if(!e)return null;let{status:n,expirationTime:i,id:o}=e;if(!(new Date>(0,C.Z)(i)&&new Date<(0,N.Z)((0,C.Z)(i),{days:10})))return null;let a=()=>t({segmentEvent:A.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),s=(0,r.jsx)(k.r,{onClick:a,isExternal:!0,textDecoration:"underline",children:(0,r.jsx)(j.cC,{id:"mj68q/"})});return(0,r.jsx)(G,{definition:{key:"subscription-expired-".concat(o),header:(0,r.jsx)(j.cC,{id:"5nhH6A"}),text:(0,r.jsxs)(r.Fragment,{children:["unpaid"===n||"past_due"===n?(0,r.jsx)(j.cC,{id:"QdgXJv"}):""," ",s]}),buttonText:(0,r.jsx)(j.cC,{id:"kwkhPe"}),buttonOnClick:a}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,t,n;let{user:i}=(0,P.SE)(),{subscription:o,product:a}=(0,E.z)();if(!o||!a)return null;let{status:s,expirationTime:c,id:l,cancellationRequestedTime:d}=o;if(!("canceled"!=s&&d&&new Date<(0,C.Z)(c)&&new Date>(0,N.Z)((0,C.Z)(c),{days:-7})))return null;let u=(null==o?void 0:null===(e=o.createdByUser)||void 0===e?void 0:e.id)===(null==i?void 0:i.id),x=(0,O._8)(),p=(0,M.p6)(c,"MMMM do, yyyy"),{name:f,dontChurnMessage:m}=(0,R.KL)()[a],h=!u&&(null==o?void 0:o.createdByUser)?(0,r.jsx)(j.cC,{id:"z4DeyC",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:w.N6,productName:f,0:null===(t=o.createdByUser)||void 0===t?void 0:t.displayName,1:null===(n=o.createdByUser)||void 0===n?void 0:n.email},components:{0:(0,r.jsx)("b",{}),1:(0,r.jsx)("b",{})}}):(0,r.jsx)(j.cC,{id:"qP91+f",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:w.N6,productName:f},components:{0:(0,r.jsx)(k.r,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,r.jsx)(G,{definition:{key:"subscription-ending-soon-".concat(l),header:(0,r.jsx)(j.cC,{id:"THJAvC",values:{productName:f}}),text:(0,r.jsxs)(r.Fragment,{children:[m," ",h]}),buttonText:(0,r.jsx)(j.cC,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,r.jsx)(j.cC,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:w.N6}}),text:(0,r.jsx)(j.cC,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:w.N6}}),conditions:()=>(0,p.dA)(),dismissKey:Z.H.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,r.jsx)(j.cC,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:w.N6}}),text:(0,r.jsx)(j.cC,{id:"Tf7VpJ"}),conditions:()=>S()&&(0,p.ds)(),dismissKey:Z.H.lastDismissedPreferredBrowserMessage}],S=()=>(0,p.jP)()||!(0,p.i7)()&&!(0,p.G6)()&&!(0,p.NA)(),D=e=>{let{isViewOnly:t}=e,n=(0,m.gF)();if(t||!n||(0,p.l6)()||f.cx||(0,g.wg)())return null;let a=I.map(e=>"Component"in e?(0,r.jsx)(e.Component,{},e.key):(0,r.jsx)(G,{definition:e},e.key));return(0,r.jsx)(i.h,{children:(0,r.jsx)(o.k,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:a})})},G=e=>{let{definition:t}=e,{key:n,dismissKey:i="butterbar-dismiss-".concat(n),header:p,text:f,buttonText:m,buttonLink:g,buttonOnClick:j=g?()=>window.open(g,"_blank"):void 0,conditions:b,ttl:y}=t,[w,k]=(0,h.I)(i,!1);if((0,x.useEffect)(()=>{y&&w&&new Date().getTime()-new Date(w).getTime()>1e3*y&&v.W.removeItem(i)},[i,w,y]),b&&!b()||w)return null;let C=m&&j;return(0,r.jsxs)(o.k,{bg:"indigo.500",color:"white",py:3,px:4,fontSize:"sm",borderRadius:"lg",gap:4,position:"fixed",left:"50%",transform:"translateX(-50%)",shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},direction:{base:"column",lg:"row"},children:[(0,r.jsxs)(a.K,{spacing:0,flex:1,pr:{base:12,lg:0},children:[(0,r.jsx)(s.x,{fontWeight:"bold",children:p}),(0,r.jsx)(s.x,{opacity:"0.7",fontSize:"xs",children:f})]}),C&&(0,r.jsx)(c.z,{flexShrink:0,variant:"plain",size:"sm",rightIcon:g?(0,r.jsx)(u.G,{icon:d.wlW}):void 0,onClick:j,children:m}),(0,r.jsx)(o.k,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},right:4,top:4,children:(0,r.jsx)(l.P,{colorScheme:"whiteAlpha",size:"sm",onClick:()=>{k(String(new Date))}})})]})}},40068:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(52322),i=n(38035),o=n(91755);let a=e=>{let{children:t,withFooter:n,isViewOnly:a}=e;return(0,r.jsxs)(i.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",children:[(0,r.jsx)(o.r,{isViewOnly:a}),(0,r.jsx)(i.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:t}),n&&(0,r.jsxs)(i.k,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:n,isViewOnly:i}=t,o=t=>(0,r.jsx)(a,{withFooter:n,isViewOnly:i,children:(0,r.jsx)(e,{...t})});return"getInitialProps"in e&&(o.getInitialProps=e.getInitialProps),o}},82929:function(e,t,n){"use strict";n.d(t,{B:function(){return v}});var r=n(52322),i=n(38035),o=n(2784),a=n(38260),s=n(9850),c=n.n(s),l=n(5632),d=n(93199),u=n(85949),x=n(71383),p=n(46692);let f=e=>{let{id:t}=e,n=(0,l.useRouter)(),r=(0,x.TL)(),i=(0,x.qr)(),{goToScreen:a}=(0,p.Ry)(),[s,c]=(0,o.useState)(!0),[f]=(0,u.UCC)({variables:{id:t}});return(0,o.useEffect)(()=>{n&&i&&f&&f().then(e=>{let{data:t}=e;if(null==t?void 0:t.docGeneration)return t.docGeneration;throw Error("Could not load docGeneration")}).then(e=>{r((0,d.Gn)(m(e))),c(!1)}).catch(()=>{a("createWithAI")})},[r,f,a,n,i]),{isLoading:s}},m=e=>({...e,docGenerateInputs:e.docGenerateInputs.map(h),draftInput:e.draftInput?h(e.draftInput):void 0}),h=e=>{let t=c()(e);return t.settings.textMode||(t.settings.preserveText?t.settings.textMode="preserve":t.settings.textMode="generate",delete t.settings.preserveText),t};var g=n(96023);let v=(0,o.memo)(e=>{let{id:t,children:n}=e,{isLoading:o}=f({id:t});return o?(0,r.jsx)(i.k,{...g.ZQ,w:"100%",h:"100%",flex:1,alignSelf:"center",children:(0,r.jsx)(a.AA,{})}):(0,r.jsx)(r.Fragment,{children:n})});v.displayName="LoadDocGenerationPage"},43301:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(52322),i=n(5632),o=n(2784),a=n(36660),s=n(46692);function c(e){return(0,o.memo)(t=>{let{push:n,query:c}=(0,i.useRouter)(),l="sites-dashboard"===c.ref,d=(0,o.useMemo)(()=>({goToScreen:(e,t)=>{let{generateId:r="",ref:i,channelId:o}=t||{},a=new URLSearchParams({...i&&{ref:i},...o&&{channelId:o}}).toString(),s=a?"?".concat(a):"";switch(e){case"createWithAI":n("/create".concat(s));break;case"createImport":n("/create/import".concat(s));break;case"createPaste":n("/create/paste".concat(s));break;case"createGenerate":n("/create/generate/".concat(r).concat(s));break;case"legacyGuidedMode":n("/generate".concat(s));break;case"promptEditor":n("/generate/".concat(r).concat(s));break;case"home":n("/");break;default:throw Error("invalid screen")}},onDocGenerationLoaded:e=>{(0,a.lO)({pathname:"/create/generate/".concat(e),emitChange:!1})},navEnabled:!0,webpageOnly:l,skipThemeStep:!1}),[n,l]);return(0,r.jsx)(s.u$.Provider,{value:d,children:(0,r.jsx)(e,{...t})})})}},86290:function(e,t,n){"use strict";n.d(t,{BK:function(){return C},Dw:function(){return k},Km:function(){return w},dN:function(){return b},p6:function(){return y}});var r=n(87254),i=n(45441),o=n(1997),a=n(37453),s=n(84060),c=n(71840),l=n(26306),d=n(41173),u=n(78683),x=n(24537),p=n(27248),f=n(43104),m=n(16890),h=n(68630),g=n(75568),v=n(58563);let j={ar:l.Z,en:d.Z,fa:u.Z,"pt-br":x.Z,ja:p.Z,"zh-cn":f.Z,"zh-tw":m.Z,es:h.Z,fr:g.Z,ko:v.Z},b=()=>j[r.ag.locale]||void 0,y=(e,t)=>e?(0,i.Z)((0,o.Z)(e),t,{locale:b()}):"",w=(e,t)=>e?(0,a.Z)((0,o.Z)(e),t?(0,o.Z)(t):new Date,{locale:b()}):"",k=e=>e?(0,s.Z)((0,o.Z)(e),{locale:b()}):"",C=e=>e?(0,c.Z)((0,o.Z)(e),new Date,{locale:b(),addSuffix:!0,roundingMethod:"floor"}):""},49863:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var r=n(9351),i=n(2784),o=n(97134);let a=()=>{let{push:e}=(0,r.useRouter)(),{userStatus:t}=(0,o.SE)();(0,i.useEffect)(()=>{"loggedOut"===t&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[t,e])}},11741:function(e,t,n){"use strict";n.r(t);var r=n(52322),i=n(5632),o=n(86294),a=n(40068),s=n(5649),c=n(82929),l=n(43301),d=n(49863),u=n(19358);t.default=(0,o.z)((0,a.o)((0,l.$)(()=>{(0,d.o)();let e=(0,i.useRouter)();return(0,u.g)()&&e.isReady?(0,r.jsx)(c.B,{id:e.query.id,children:(0,r.jsx)(s.m,{autosetLocale:!1})}):null})))}},function(e){e.O(0,[7662,8433,2182,2812,8774,9542,5417,6694,146,4078,3273,9025,5333,4424,8707,3661,1015,5017,9630,4993,1336,6410,3452,3425,4298,4028,2273,1909,7119,3927,2842,8511,7828,5343,8999,338,1486,8484,4957,3870,5806,1240,8260,6663,8668,5649,2888,9774,179],function(){return e(e.s=10366)}),_N_E=e.O()}]);
//# sourceMappingURL=[id]-355328e75e5b7e89.js.map