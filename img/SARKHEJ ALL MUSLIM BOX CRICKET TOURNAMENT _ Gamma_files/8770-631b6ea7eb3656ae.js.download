(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8770],{86294:function(e,t,n){"use strict";let r;n.d(t,{z:function(){return eL}});var s=n(52322);n(56414);var i=n(55671),o=n(81674),a=n(97729),l=n.n(a),c=n(5632),d=n(2784),u=n(43997),h=n(95405),f=n(12483),g=n(85949),p=n(49414);let m=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class w extends d.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===h.v.APPLICATION_ENVIRONMENT)throw e;f.Tb(e,{extra:{info:null==t?void 0:t.componentStack}})}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===h.v.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){if(this.props.unhandledRejectionFilter(e)){var t;let n=(null===(t=e.reason)||void 0===t?void 0:t.message)||"";this.setState({hasError:!0,errMessage:n})}}render(){let e=!0===m(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,s.jsxs)(s.Fragment,{children:[this.state.hasError&&(0,s.jsx)(p.q,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}w.defaultProps={unhandledRejectionFilter:e=>{var t;return!!m((null===(t=e.reason)||void 0===t?void 0:t.message)||"")||e.reason instanceof g.YBv&&!1===document.hidden||e.reason instanceof g.R5s}},n(61036),n(62376),n(6991),n(76298),n(4466),n(43839),n(40917);var y=n(14625),v=n(69962),b=n(60094),E=n(82037),j=n(54901),S=n(58974),_=n(16202),x=n(71383);let C=e=>{console.debug("%c[useApiRefetch] Refetching due to ".concat(e),"background-color: aqua"),(0,j.WQ)().reFetchObservableQueries()},I=()=>{let e=(0,x.qr)(),t=(0,d.useRef)(!1),n=(0,d.useRef)(null),r=(0,d.useCallback)(e=>{n.current&&(clearTimeout(n.current),n.current=null),n.current=setTimeout(()=>{C(e),n.current=null},3e3)},[]),s=(0,d.useCallback)(()=>(0,_.aF)(e.getState()).backgrounded,[e]);(0,S.js)("online",(0,d.useCallback)(()=>{if(s()){t.current=!0;return}r("online")},[r,s])),(0,S.js)("wakeup",(0,d.useCallback)(()=>{if(s()){t.current=!0;return}r("wakeup")},[r,s])),(0,S.js)("foreground",(0,d.useCallback)(()=>{t.current&&(r("foreground"),t.current=!1)},[r]))},O=Number(new URLSearchParams(h.v.IS_CLIENT_SIDE?window.location.search:"").get("MAX_BACKGROUND_TIME_ALLOWED"))||432e5,D=()=>{let e=(0,d.useRef)(!1),t=(0,d.useCallback)(t=>{t.timeInBackground&&!e.current&&t.timeInBackground>O&&(e.current=!0,window.location.reload())},[]);(0,S.js)("foreground",t)},T=(0,d.memo)(()=>((0,S.i6)(),I(),D(),null));T.displayName="ConnectionMonitor";var M=n(73235),k=n(42795),R=n(17861);function A(){let e=(0,M._)(["^",""]);return A=function(){return e},e}var N=n(52138),P=n(37012),L=n(70212),U=n(99092),F=n(31601),G=n(97134);let H=(e,t)=>{U.H.init(h.v.HIGHLIGHT_PROJECT_ID,{environment:h.v.APPLICATION_ENVIRONMENT,sessionShortcut:!!t&&"shift+command+0",enableStrictPrivacy:e,enableSegmentIntegration:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0}}),F.co.loadSdkPromise.then(e=>{e&&e.addSourceMiddleware(U.LZ)})},q=e=>{let{children:t}=e,{user:n,anonymousUser:r,isGammaOrgUser:i,isUserLoading:o}=(0,G.SE)(),{enabled:a,enableStrictPrivacy:l}=(0,P.ye)("highlight");return(0,d.useEffect)(()=>{a&&!o&&n&&H(l,i)},[l,a,i,o,n]),(0,d.useEffect)(()=>{if(!o){if(n){let{id:e,displayName:t,email:r,profileImageUrl:s}=n;U.H.identify(e,{highlightDisplayName:t,email:r,avatar:s})}else if(null==r?void 0:r.id){let{id:e,displayName:t}=r;U.H.identify("",{anonDisplayName:t||"",anonId:e})}}},[n,r,o]),(0,s.jsx)(s.Fragment,{children:t})};var z=n(36660),V=n(87254),K=n(5879),B=n(23304),Y=n(66576),Q=n(29469);let X=e=>{let{children:t}=e;return(0,Y.K)(),(0,B.b)(),(0,Q.U)(),(0,s.jsx)(K.bd,{i18n:V.ag,children:t})};var W=n(83639),$=n(53650),J=n(69341),Z=n(89328),ee=n(9010),et=n(49803),en=n(30733),er=n.n(en),es=n(12753);class ei{async enable(){try{await window.serwist.register()}catch(e){console.error("Error registering Serwist service worker:",e)}}async disable(){try{for(let e of(await navigator.serviceWorker.getRegistrations()))console.debug("offlineMode - [SerwistOfflineCache] Unregistering service worker:",e),await e.unregister()}catch(e){console.error("Error unregistering Serwist service worker:",e)}try{await this.clearCaches()}catch(e){console.error("Error clearing caches",e)}this.store.dispatch((0,es.Dz)())}async debug(){let e=await window.caches.keys();return{cache:(await Promise.all(e.map(async e=>{let t=await window.caches.open(e).then(e=>e.matchAll());return[e,t]}))).reduce((e,t)=>(e[t[0]]=t[1],e),{})}}async gc(e){}async clearCaches(){try{if(!window.caches)return;for(let e of(await window.caches.keys()))await window.caches.delete(e);console.debug("offlineMode - [SerwistOfflineCache] Serwist caches cleared successfully")}catch(e){console.error("Error clearing caches",e)}}constructor(){this.store=(0,x.bh)()}}let eo=er()(()=>new ei);var ea=n(43848),el=n(18308),ec=n(54073),ed=n.n(ec),eu=n(18149),eh=n.n(eu);let ef="offline-state-v1",eg=e=>{let t=ep(),n=null;t&&(console.debug("offlineMode - [setupOfflineManagerPersistence] LOADING PERSISTED STATE",t),e.dispatch((0,es.m0)(t)),n=t);let r=ed()(e=>{em(e)},500);return e.subscribe(()=>{let t=(0,es.S_)(e.getState());if(n!==t){if(eh()(n,t)){n=t;return}n=t,console.debug("offlineMode - [setupOfflineManagerPersistence] PERSISTING STATE",t),r(t)}})},ep=()=>{try{let e=localStorage.getItem(ef);return JSON.parse(e)}catch(e){return null}},em=async e=>{try{let t=JSON.stringify(e);localStorage.setItem(ef,t)}catch(e){console.error("Error persisting state",e)}},ew=(0,el.K)();class ey{get enabled(){return(0,es.aL)(this.store.getState())}async init(){if(!ew){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}this.cleanupFns.push(eg(this.store)),await this.notifyCaches(this.enabled),console.debug("offlineMode - [OfflineManager] caches initialized",this.enabled),this.setupFeatureFlagSubscription(),this.setupConnectionListener(),console.debug("offlineMode - [OfflineManager] subscriptions initialized")}setupConnectionListener(){let e=Z.L.on("offline",()=>{this.apolloOfflineCache.useOfflineCache()}),t=Z.L.on("online",()=>{this.apolloOfflineCache.backOnline()});this.cleanupFns.push(t),this.cleanupFns.push(e)}setupFeatureFlagSubscription(){P.VH.initializePromise.then(()=>{let e=P.VH.get("offline");e!==this.enabled&&(e?this.enable():this.disable()),this.cleanupFns.push(P.VH.subscribe("offline",e=>{e?this.enable():this.disable()}))})}async enable(){if(!ew){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}if(this.enabled){console.warn("Offline mode already enabled");return}let{user:e,status:t}=await (0,ee.r)({returnOfflineUser:!1});if("loggedIn"!==t){console.warn("[OfflineManager] Offline mode user not logged in");return}await this.notifyCaches(!0),this.store.dispatch((0,es.RB)({user:e,lastSynced:new Date().toISOString()}))}async disable(){if(!ew){console.debug("offlineMode - [OfflineManager] Offline mode is not supported");return}if(!this.enabled){console.warn("[OfflineManager] Offline mode already disabled");return}await this.notifyCaches(!1),this.store.dispatch((0,es.Iq)())}async notifyCaches(e){return Promise.all(e?this.caches.map(e=>e.enable()):this.caches.map(e=>e.disable()))}cleanup(){for(;this.cleanupFns.length>0;){var e;null===(e=this.cleanupFns.pop())||void 0===e||e()}}constructor(){this.store=(0,x.bh)(),this.serwistOfflineCache=eo(),this.ydocOfflineCache=(0,ea.H)(),this.apolloOfflineCache=(0,et.a)(),this.caches=[this.serwistOfflineCache,this.ydocOfflineCache,this.apolloOfflineCache],this.cleanupFns=[]}}let ev=async()=>{if(r)throw Error("OfflineManager already initialized");try{r=new ey,await r.init()}catch(e){console.error("Error initializing OfflineManager",e)}};window.getOfflineManagerState=()=>(0,x.bh)().getState().OfflineManager,window.getOfflineManager=()=>r;var eb=n(44007),eE=n(1384),ej=n(55516);let eS="no_org_id",e_=e=>{let{children:t}=e;(0,eE.iZ)();let{user:n,anonymousUser:r,currentWorkspace:i,isUserLoading:o}=(0,G.SE)();return(0,d.useEffect)(()=>{let e=(0,ej.K)();(0,eb.$n)(e.get()),e.fetch().then(eb.$n).catch(()=>{})},[]),(0,d.useEffect)(()=>{let e;if(!o){if(n){let{id:t,email:r}=n,s=!!r&&r.endsWith("@gamma.app");e={userId:t,isGammaUser:s,userOrgId:(null==i?void 0:i.id)||eS,anonymousUser:!1,gammaUserFirstName:s?n.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:eS,anonymousUser:!0,gammaUserFirstName:""};(0,eb.$n)(e)}},[o,n,r,i]),(0,s.jsx)(s.Fragment,{children:t})};var ex=n(29243),eC=n(76009),eI=n(69876),eO=n(26073),eD=n(77482),eT=n(92035),eM=n(28817),ek=n(19358),eR=n(69465);o.vc.autoAddCss=!1;let eA=(0,x.bh)();ev();let eN=(0,g.RqP)({supportOfflineMode:!0}),eP=(0,g.PGq)();(0,eM.Lq)(),$.F7.initialize(),(0,z.lt)(),F.co.init(),k.fy.init({clientToken:h.v.DATADOG_CLIENT_TOKEN,service:"gamma-client",env:h.v.APPLICATION_ENVIRONMENT.replace("production","prod"),site:"datadoghq.com",forwardErrorsToLogs:!1,forwardConsoleLogs:[],sessionSampleRate:100}),function(){let e=new RegExp(String.raw(A(),h.v.API_HOST));if(h.v.DATADOG_RUM_CLIENT_TOKEN){var t;R.v.init({applicationId:h.v.DATADOG_APP_ID,clientToken:h.v.DATADOG_RUM_CLIENT_TOKEN,site:"datadoghq.com",service:"app",env:h.v.APPLICATION_ENVIRONMENT.replace("production","prod"),sessionSampleRate:null!==(t=h.v.DATADOG_RUM_SAMPLE_RATE)&&void 0!==t?t:10,sessionReplaySampleRate:0,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",allowedTracingUrls:[{match:e,propagatorTypes:["tracecontext"]}]})}}(),(0,W.S1)(),(0,N.u7)(),(0,eI.a)("appMainBundleLoaded"),P.VH.get("debugLogging")||(window.console.debug=()=>{});let eL=e=>function(t){return(0,s.jsx)(eU,{children:(0,s.jsx)(e,{...t})})},eU=e=>{let{children:t}=e,n=(0,c.useRouter)();(0,ex.l)(),(0,ek.k)(),(0,y.U)(),(0,d.useEffect)(()=>{let e=(e,t)=>{let{shallow:n}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(n?"with":"without"," shallow routing"))};return n.events.on("routeChangeStart",e),()=>{n.events.off("routeChangeStart",e)}},[n]);let r=(0,eO.aY)();return(0,s.jsx)(u.zt,{store:eA,children:(0,s.jsx)(X,{children:(0,s.jsx)(E.E,{children:(0,s.jsx)(w,{children:(0,s.jsx)(i.e,{client:eN,children:(0,s.jsxs)(g.mdV,{client:eP,children:[(0,s.jsx)(eG,{}),(0,s.jsx)(v.H6,{}),(0,s.jsx)(W.GQ,{}),(0,s.jsx)(eD.D,{}),(0,s.jsx)(b.S,{}),(0,s.jsx)(T,{}),(0,s.jsxs)(G.fS,{children:[(0,s.jsx)(eC.qA,{children:(0,s.jsx)(P.dF,{children:(0,s.jsx)(J.S,{children:(0,s.jsx)(e_,{children:(0,s.jsx)(q,{children:(0,s.jsx)(eO.dv,{value:r,children:(0,s.jsx)(L.u,{children:t})})})})})})}),(0,s.jsx)(P.MG,{})]})]})})})})})})},eF="A new medium for presenting ideas, powered by AI. Beautiful, engaging content with none of the formatting and design work.",eG=()=>{let e=h.v.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"Gamma"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"production"===e?"/favicons/favicon-192.svg":"staging"===e?"/favicons/favicon_staging.jpg":"/favicons/favicon_local.jpg"}),(0,s.jsx)("meta",{content:eF,name:"description"},"description"),(0,s.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,s.jsx)("meta",{content:eF,property:"og:description"},"og:description"),(0,s.jsx)("meta",{content:h.v.OG_IMAGE_URL,property:"og:image"},"og:image"),(0,s.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,s.jsx)("meta",{content:eF,property:"twitter:description"},"twitter:description"),(0,s.jsx)("meta",{content:h.v.OG_IMAGE_URL,property:"twitter:image"},"twitter:image"),(0,s.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,s.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,s.jsx)("meta",{name:"google",content:"notranslate"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,eT.l6)()&&!(0,eR.wg)()&&(0,s.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,s.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},49414:function(e,t,n){"use strict";n.d(t,{q:function(){return j}});var r=n(52322),s=n(38035),i=n(43297),o=n(77533),a=n(49259),l=n(87436),c=n(95897),d=n(28535),u=n(89511),h=n(11121),f=n(44438),g=n(42822),p=n(62614),m=n(75009),w=n(64253),y=n(5879),v=n(23491),b=n(44400);let E=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.cC,{id:"nwtY4N"})," ",(0,r.jsx)("span",{role:"img","aria-label":"sad face",children:"\uD83D\uDE15"})]}),j=e=>{let{errMessage:t=E,showDisclosure:n=!1,opacity:j=1,backgroundColor:S=w.qZ.colors.trueblue[900],..._}=e;return(0,r.jsx)(s.k,{"data-error-component":!0,w:"100vw",h:"100vh",overflow:"hidden",justify:"center",align:"center",zIndex:99999,backgroundColor:(0,v.tT)(S,j),..._,children:(0,r.jsxs)(b.qX,{lede:"",title:(0,r.jsx)(y.cC,{id:"HbR60U"}),stackProps:{shadow:"lg",position:"relative"},children:[(0,r.jsxs)(i.K,{spacing:8,children:[(0,r.jsx)(o.x,{children:(0,r.jsx)(y.cC,{id:"1gm+lP"})}),n&&(0,r.jsx)(a.U,{allowToggle:!0,pt:4,children:(0,r.jsxs)(l.Q,{children:[(0,r.jsxs)(c.K,{px:0,_hover:{bgColor:"none"},borderStyle:"none",children:[(0,r.jsx)(d.xu,{flex:"1",textAlign:"left",children:(0,r.jsx)(y.cC,{id:"qug3k/"})}),(0,r.jsx)(u.X,{})]}),(0,r.jsx)(h.H,{pb:4,children:(0,r.jsx)(f.E,{colorScheme:"red",children:t})})]})}),(0,r.jsx)(g.M,{children:(0,r.jsx)(p.z,{variant:"solid",size:"lg",m:6,onClick:()=>{window.location.reload()},children:(0,r.jsx)(y.cC,{id:"C6f2hU"})})})]}),(0,r.jsx)(m.E,{pos:"absolute",w:36,bottom:"calc(-100% + 120px)",right:-12,src:"/_next/static/media/Sal-Asteroid-Parachute.ad317576.png",pointerEvents:"none",opacity:{base:0,md:1}})]})})}},69962:function(e,t,n){"use strict";n.d(t,{$C:function(){return h},H6:function(){return u},Uj:function(){return f}});var r=n(52322),s=n(5632),i=n(73534),o=n.n(i),a=n(95405),l=n(40382),c=n(63331);let d=["/signin","/signup","/invitations/workspaces/[workspaceId]"],u=()=>{let e=(0,s.useRouter)().pathname;return!(0,l.gF)()||d.includes(e)?null:(0,r.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,r.jsx)(o(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(a.v.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),f=async e=>(await (0,c.X)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,n)=>{grecaptcha.enterprise.ready(async()=>{try{let n=await grecaptcha.enterprise.execute(a.v.RECAPTCHA_SCORING_KEY,{action:e});t(n)}catch(e){console.log(e),n(e)}})}))},43848:function(e,t,n){"use strict";n.d(t,{H:function(){return C}});var r=n(54073),s=n.n(r),i=n(30733),o=n.n(i),a=n(67304),l=n.n(a),c=n(60628),d=n(71383),u=n(60589),h=n(6092),f=n(69180);let g="custom",p="updates",m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},[n]=u.ay(e.db,[p]);return u.go(n,u.sc(e._dbref,!1)).then(r=>{t(n),f.ay(e.doc,()=>{r.forEach(t=>f.NG(e.doc,t))},e,!1)}).then(()=>u.S_(n).then(t=>{e._dbref=t+1})).then(()=>u.QX(n).then(t=>{e._dbsize=t})).then(()=>n)},w=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return m(e).then(n=>{(t||e._dbsize>=500)&&u.yP(n,f.D$(e.doc)).then(()=>u.IV(n,u.UE(e._dbref,!0))).then(()=>u.QX(n).then(t=>{e._dbsize=t}))})},y=e=>u.Lj(e);class v extends h.y{destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{u.Lj(this.name)})}get(e){return this._db.then(t=>{let[n]=u.ay(t,[g],"readonly");return u.U2(n,e)})}set(e,t){return this._db.then(n=>{let[r]=u.ay(n,[g]);return u.gz(r,t,e)})}del(e){return this._db.then(t=>{let[n]=u.ay(t,[g]);return u.IV(n,e)})}constructor(e,t){super(),this.doc=t,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=u.X3(e,e=>u._w(e,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(e=>(this.db=e,m(this,e=>u.yP(e,f.D$(t))).then(()=>(this._destroyed||(this.emit("synced",[this]),this.synced=!0),this)))),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(e,t)=>{if(this.db&&t!==this){let[t]=u.ay(this.db,[p]);u.yP(t,e),++this._dbsize>=500&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{w(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},t.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}}var b=n(78112),E=n(18308),j=n(8037),S=n(12753);let _=(0,E.T)();class x{async enable(){}async disable(){}get enabled(){return _&&((0,S.aL)(this.store.getState())||c.VH.get("offlineEditing"))}async loadYDoc(e,t){return this.enabled?!!(0,S.pG)(this.store.getState())[e]&&(this.setup(e,t),!0):(console.warn("Cannot setupForDocLoad when it is not enabled"),!1)}async syncYDoc(e,t){if(!this.enabled){console.warn("Cannot setup IndexedDB for doc as it is not enabled");return}await this.setup(e,t),this.store.dispatch((0,S.fz)({docId:e,lastSynced:new Date().toISOString()}))}setup(e,t){return new Promise(n=>{let r=new v(e,t),i=s()(()=>{let e=t.getMap("SCHEMA_VERSION").get("REQUIRED_VERSION");r.set("lastUpdated",new Date().toISOString()),r.set("schemaVersion",e||"")},1e3);t.on("update",i),r.on("synced",()=>{n()})})}async gc(){let e=Date.now(),t=Object.values(this.syncedYDocs).filter(t=>!!t.lastSynced&&e-new Date(t.lastSynced).getTime()>j.c).map(e=>e.docId),n=(0,b.yU)(this.store.getState());n?this.removeDocs(l()(t,n)):this.removeDocs(t)}async removeDocs(e){if(0===e.length)return;this.store.dispatch((0,S.h_)({docIds:e}));let t=e.map(e=>y(e));await Promise.all(t)}async debug(){return{syncedYdocs:this.syncedYDocs}}get syncedYDocs(){return(0,S.pG)(this.store.getState())}constructor(){this.store=(0,d.bh)()}}let C=o()(()=>new x)},18308:function(e,t,n){"use strict";n.d(t,{K:function(){return i},T:function(){return s}});var r=n(31240);let s=()=>"indexedDB"in window&&"localStorage"in window&&r.I,i=()=>"undefined"!=typeof navigator&&"serviceWorker"in navigator&&s()},1384:function(e,t,n){"use strict";n.d(t,{bf:function(){return p},iZ:function(){return f},lh:function(){return h},wK:function(){return g}});var r=n(2784),s=n(37012),i=n(71383),o=n(78112),a=n(33945),l=n(21562),c=n(44007);let d=e=>Math.random()<=1/e;class u{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let h=(e,t)=>{let n=(0,i.CG)(o.Pw),s=(0,r.useRef)(n);(0,r.useEffect)(()=>{s.current=n},[n]),(0,r.useEffect)(()=>{if(e)return window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0)};function n(e){if(!e.target.closest(".ProseMirror")||!s.current||!d(t))return;let n=performance.now();requestAnimationFrame(()=>{let t=e.key;" "===t&&(t="Space");let r=performance.now()-n;(0,c.EF)({...(0,l.H)(),key:t,duration:r})})}},[e,s,t])},f=()=>{let e=(0,s.ye)("rumSampleRate");(0,r.useEffect)(()=>{(0,c._k)(e)},[e])},g=e=>{let t=(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:a.q.SLIDE_VIEW,duration:e,isFullscreen:n})})})},[e]);return{recordExitSlideModePerformance:(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:a.q.DOC_VIEW,duration:e,isFullscreen:n})})})},[e]),recordEnterSlideModePerformance:t}},p=()=>{let[e]=(0,r.useState)(()=>new u),t=(0,r.useCallback)(()=>{e.setupProvider()},[e]),n=(0,r.useCallback)(()=>{e.downloadDoc()},[e]);return{timeOnCreate:(0,r.useCallback)(()=>{e.onCreate();let t=e.report();if(null===t){console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");return}(0,c.Py)({...(0,l.H)(),duration:t.onCreate}),(0,c.aZ)({...(0,l.H)(),duration:t.downloadDoc})},[e]),timeOnSetupProvider:t,timeOnDownloadDoc:n}}},29243:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(5632),s=n(2784),i=n(19210),o=n(18960);let a=()=>{let{pathname:e,isReady:t}=(0,r.useRouter)(),n=(0,s.useRef)(!1),[a,l]=(0,i.X)(o.H.lastHomeUrl,"/");(0,s.useEffect)(()=>{!n.current&&t&&(l("/inspiration"===e||"/templates"===e?e:"/"),n.current=!0)},[l,t,e])}},19210:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(2784),s=n(92744);function i(e,t){let[n,i]=(0,r.useState)(()=>{try{let n=s.Q.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}});return[n,(0,r.useCallback)(t=>{try{s.Q.setItem(e,JSON.stringify(t)),i(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e])]}},62376:function(){},6991:function(){},76298:function(){},4466:function(){},43839:function(){}}]);
//# sourceMappingURL=8770-631b6ea7eb3656ae.js.map