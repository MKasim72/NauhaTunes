(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4028],{39310:function(e){var t=Math.floor;e.exports=function(e,n){var s="";if(!e||n<1||n>9007199254740991)return s;do n%2&&(s+=e),(n=t(n/2))&&(e+=e);while(n);return s}},4579:function(e,t,n){var s=n(39310),o=n(1054),i=n(23895),r=n(33880),a=n(89791),c=n(8435),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?s(t,e):t;var l=s(t,u(e/a(t)));return r(t)?i(c(l),0,e).join(""):l.slice(0,e)}},38849:function(e,t,n){var s=n(4579),o=n(89791),i=n(38101),r=n(66188);e.exports=function(e,t,n){e=r(e);var a=(t=i(t))?o(e):0;return t&&a<t?s(t-a,n)+e:e}},5485:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(12499),o=n(23160);function i(e,t){(0,o.Z)(2,arguments);var n=(0,s.Z)(e,t)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},19027:function(e,t,n){"use strict";n.d(t,{JL:function(){return p}});var s=n(69180),o=n(52780),i=n(27191),r=n(68053);n(6092),n(48487);var a=n(36069),c=n(38564);let u=(e,t,n)=>e!==t,l=e=>{let t=document.createElement("span");t.classList.add("ProseMirror-yjs-cursor"),t.setAttribute("style",`border-color: ${e.color}`);let n=document.createElement("div");n.setAttribute("style",`background-color: ${e.color}`),n.insertBefore(document.createTextNode(e.name),null);let s=document.createTextNode("⁠"),o=document.createTextNode("⁠");return t.insertBefore(s,null),t.insertBefore(n,null),t.insertBefore(o,null),t},h=e=>({style:`background-color: ${e.color}70`,class:"ProseMirror-yjs-selection"}),d=/^#[0-9a-fA-F]{6}$/,f=(e,t,n,i,u)=>{let l=c.Gt.getState(e),h=l.doc,f=[];return null!=l.snapshot||null!=l.prevSnapshot||null===l.binding?o.EH.create(e.doc,[]):(t.getStates().forEach((t,c)=>{if(n(h.clientID,c,t)&&null!=t.cursor){let n=t.user||{};null==n.color?n.color="#ffa500":d.test(n.color)||console.warn("A user uses an unsupported color format",n),null==n.name&&(n.name=`User: ${c}`);let p=(0,a.SF)(h,l.type,s.og(t.cursor.anchor),l.binding.mapping),g=(0,a.SF)(h,l.type,s.og(t.cursor.head),l.binding.mapping);if(null!==p&&null!==g){let t=r.Fp(e.doc.content.size-1,0);p=r.VV(p,t),g=r.VV(g,t),f.push(o.p.widget(g,()=>i(n),{key:c+"",side:10}));let s=r.VV(p,g),a=r.Fp(p,g);f.push(o.p.inline(s,a,u(n),{inclusiveEnd:!0,inclusiveStart:!1}))}}}),o.EH.create(e.doc,f))},p=(e,{awarenessStateFilter:t=u,cursorBuilder:n=l,selectionBuilder:o=h,getSelection:r=e=>e.selection}={},d="cursor")=>new i.Sy({key:c.uJ,state:{init:(s,i)=>f(i,e,t,n,o),apply(s,i,r,a){let u=c.Gt.getState(a),l=s.getMeta(c.uJ);return u&&u.isChangeOrigin||l&&l.awarenessUpdated?f(a,e,t,n,o):i.map(s.mapping,s.doc)}},props:{decorations:e=>c.uJ.getState(e)},view:t=>{let n=()=>{t.docView&&(0,a.US)(t,c.uJ,{awarenessUpdated:!0})},o=()=>{let n=c.Gt.getState(t.state),o=e.getLocalState()||{};if(null!=n.binding){if(t.hasFocus()){let i=r(t.state),c=(0,a.JR)(i.anchor,n.type,n.binding.mapping),u=(0,a.JR)(i.head,n.type,n.binding.mapping);null!=o.cursor&&s.Uq(s.og(o.cursor.anchor),c)&&s.Uq(s.og(o.cursor.head),u)||e.setLocalStateField(d,{anchor:c,head:u})}else null!=o.cursor&&null!==(0,a.SF)(n.doc,n.type,s.og(o.cursor.anchor),n.binding.mapping)&&e.setLocalStateField(d,null)}};return e.on("change",n),t.dom.addEventListener("focusin",o),t.dom.addEventListener("focusout",o),{update:o,destroy:()=>{t.dom.removeEventListener("focusin",o),t.dom.removeEventListener("focusout",o),e.off("change",n),e.setLocalStateField(d,null)}}}})},79522:function(e,t,n){"use strict";var s,o,i,r;n.d(t,{$c:function(){return o},CL:function(){return O},NI:function(){return I},QX:function(){return L},nw:function(){return E},pi:function(){return M},rN:function(){return x}});let a=Math.floor,c=(e,t)=>e<t?e:t,u=(e,t)=>e>t?e:t,l=Number.MAX_SAFE_INTEGER,h="undefined"!=typeof TextEncoder?new TextEncoder:null,d=h?e=>h.encode(e):e=>{let t=unescape(encodeURIComponent(e)),n=t.length,s=new Uint8Array(n);for(let e=0;e<n;e++)s[e]=t.codePointAt(e);return s},f="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});f&&1===f.decode(new Uint8Array).length&&(f=null);let p=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},g=(e,t)=>{for(;t>127;)p(e,128|127&t),t=a(t/128);p(e,127&t)},m=new Uint8Array(3e4),y=m.length/3,b=h&&h.encodeInto?(e,t)=>{if(t.length<y){let n=h.encodeInto(t,m).written||0;g(e,n);for(let t=0;t<n;t++)p(e,m[t])}else v(e,d(t))}:(e,t)=>{let n=unescape(encodeURIComponent(t)),s=n.length;g(e,s);for(let t=0;t<s;t++)p(e,n.codePointAt(t))},w=(e,t)=>{let n=e.cbuf.length,s=e.cpos,o=c(n-s,t.length),i=t.length-o;e.cbuf.set(t.subarray(0,o),s),e.cpos+=o,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(u(2*n,i)),e.cbuf.set(t.subarray(o)),e.cpos=i)},v=(e,t)=>{g(e,t.byteLength),w(e,t)},S=e=>Error(e),C=S("Unexpected end of array"),A=S("Integer out of Range"),k=(e,t)=>{let n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},D=e=>k(e,P(e)),U=e=>e.arr[e.pos++],P=e=>{let t=0,n=1,s=e.arr.length;for(;e.pos<s;){let s=e.arr[e.pos++];if(t+=(127&s)*n,n*=128,s<128)return t;if(t>l)throw A}throw C},T=f?e=>f.decode(D(e)):e=>{let t=P(e);if(0===t)return"";{let n=String.fromCodePoint(U(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(U(e));else for(;t>0;){let s=t<1e4?t:1e4,o=e.arr.subarray(e.pos,e.pos+s);e.pos+=s,n+=String.fromCodePoint.apply(null,o),t-=s}return decodeURIComponent(escape(n))}};(i=s||(s={}))[i.Token=0]="Token",i[i.PermissionDenied=1]="PermissionDenied",i[i.Authenticated=2]="Authenticated";let O=(e,t)=>{g(e,s.Token),b(e,t)},E=(e,t,n)=>{switch(P(e)){case s.PermissionDenied:t(T(e));break;case s.Authenticated:n(T(e))}},M={code:1009,reason:"Message Too Big"},I={code:4401,reason:"Unauthorized"},x={code:4403,reason:"Forbidden"},L=e=>Array.from(e.entries()).map(([e,t])=>({clientId:e,...t}));(r=o||(o={}))[r.Connecting=0]="Connecting",r[r.Open=1]="Open",r[r.Closing=2]="Closing",r[r.Closed=3]="Closed"},44058:function(e,t,n){"use strict";let s,o;n.d(t,{Ui:function(){return e9},cA:function(){return eH},Cs:function(){return a}});var i,r,a,c,u=n(79522),l=n(69180);async function h(e){return new Promise((t,n)=>{setTimeout(t,e)})}function d(e,t){let n=t.delay;if(0===n)return 0;if(t.factor&&(n*=Math.pow(t.factor,e.attemptNum-1),0!==t.maxDelay&&(n=Math.min(n,t.maxDelay))),t.jitter){let e=Math.ceil(t.minDelay);n=Math.floor(Math.random()*(Math.floor(n)-e+1))+e}return Math.round(n)}async function f(e,t){var n;let s=((n=t)||(n={}),{delay:void 0===n.delay?200:n.delay,initialDelay:void 0===n.initialDelay?0:n.initialDelay,minDelay:void 0===n.minDelay?0:n.minDelay,maxDelay:void 0===n.maxDelay?0:n.maxDelay,factor:void 0===n.factor?0:n.factor,maxAttempts:void 0===n.maxAttempts?3:n.maxAttempts,timeout:void 0===n.timeout?0:n.timeout,jitter:!0===n.jitter,handleError:void 0===n.handleError?null:n.handleError,handleTimeout:void 0===n.handleTimeout?null:n.handleTimeout,beforeAttempt:void 0===n.beforeAttempt?null:n.beforeAttempt,calculateDelay:void 0===n.calculateDelay?null:n.calculateDelay});for(let e of["delay","initialDelay","minDelay","maxDelay","maxAttempts","timeout"]){let t=s[e];if(!Number.isInteger(t)||t<0)throw Error(`Value for ${e} must be an integer greater than or equal to 0`)}if(s.factor.constructor!==Number||s.factor<0)throw Error("Value for factor must be a number greater than or equal to 0");if(s.delay<s.minDelay)throw Error(`delay cannot be less than minDelay (delay: ${s.delay}, minDelay: ${s.minDelay}`);let o={attemptNum:0,attemptsRemaining:s.maxAttempts?s.maxAttempts:-1,aborted:!1,abort(){o.aborted=!0}},i=s.calculateDelay||d;async function r(){if(s.beforeAttempt&&s.beforeAttempt(o,s),o.aborted){let e=Error("Attempt aborted");throw e.code="ATTEMPT_ABORTED",e}let t=async e=>{if(s.handleError&&await s.handleError(e,o,s),o.aborted||0===o.attemptsRemaining)throw e;o.attemptNum++;let t=i(o,s);return t&&await h(t),r()};return(o.attemptsRemaining>0&&o.attemptsRemaining--,s.timeout)?new Promise((n,i)=>{let r=setTimeout(()=>{if(s.handleTimeout)try{n(s.handleTimeout(o,s))}catch(e){i(e)}else{let e=Error(`Retry timeout (attemptNum: ${o.attemptNum}, timeout: ${s.timeout})`);e.code="ATTEMPT_TIMEOUT",i(e)}},s.timeout);e(o,s).then(e=>{clearTimeout(r),n(e)}).catch(e=>{clearTimeout(r),t(e).then(n).catch(i)})}):e(o,s).catch(t)}let a=s.calculateDelay?s.calculateDelay(o,s):s.initialDelay;return a&&await h(a),r()}var p=n(34406),g=n(48834).lW;let m=()=>new Map,y=(e,t,n)=>{let s=e.get(t);return void 0===s&&e.set(t,s=n()),s},b=()=>new Set,w=Array.from,v=String.fromCharCode,S=e=>e.toLowerCase(),C=/^\s*/g,A=e=>e.replace(C,""),k=/([A-Z])/g,D=(e,t)=>A(e.replace(k,e=>`${t}${S(e)}`)),U="undefined"!=typeof TextEncoder?new TextEncoder:null,P=U?e=>U.encode(e):e=>{let t=unescape(encodeURIComponent(e)),n=t.length,s=new Uint8Array(n);for(let e=0;e<n;e++)s[e]=t.codePointAt(e);return s},T="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});T&&1===T.decode(new Uint8Array).length&&(T=null);let O=e=>void 0===e?null:e;class E{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}}let M=new E,I=!0;try{"undefined"!=typeof localStorage&&localStorage&&(M=localStorage,I=!1)}catch(e){}let x=M,L=e=>I||addEventListener("storage",e),$=e=>I||removeEventListener("storage",e),N=Object.keys,R=(e,t)=>{let n=[];for(let s in e)n.push(t(e[s],s));return n},Q=e=>N(e).length,V=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),j=(e,t)=>e===t,B=(e,t)=>{if(null==e||null==t)return j(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(let n of e.keys())if(!t.has(n)||!B(e.get(n),t.get(n)))return!1;break;case Object:if(Q(e)!==Q(t))return!1;for(let n in e)if(!V(e,n)||!B(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!B(e[n],t[n]))return!1;break;default:return!1}return!0},F=void 0!==p&&p.release&&/node|io\.js/.test(p.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==p?p:0),H="undefined"!=typeof window&&"undefined"!=typeof document&&!F;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let q=()=>{if(void 0===s){if(F){s=m();let e=p.argv,t=null;for(let n=0;n<e.length;n++){let o=e[n];"-"===o[0]?(null!==t&&s.set(t,""),t=o):null!==t&&(s.set(t,o),t=null)}null!==t&&s.set(t,"")}else"object"==typeof location?(s=m(),(location.search||"?").slice(1).split("&").forEach(e=>{if(0!==e.length){let[t,n]=e.split("=");s.set(`--${D(t,"-")}`,n),s.set(`-${D(t,"-")}`,n)}})):s=m()}return s},_=e=>q().has(e),W=e=>F?O(p.env[e.toUpperCase()]):O(x.getItem(e));_("--"+(o="production"))||W(o);let J=F&&["true","1","2"].includes(p.env.FORCE_COLOR);!_("no-colors")&&(!F||p.stdout.isTTY||J)&&(!F||_("color")||J||null!==W("COLORTERM")||(W("TERM")||"").includes("color"));let z=Math.floor,G=(e,t)=>e<t?e:t,X=(e,t)=>e>t?e:t,Z=Number.MAX_SAFE_INTEGER;class Y{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let K=()=>new Y,ee=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},et=e=>{let t=new Uint8Array(ee(e)),n=0;for(let s=0;s<e.bufs.length;s++){let o=e.bufs[s];t.set(o,n),n+=o.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},en=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},es=(e,t)=>{for(;t>127;)en(e,128|127&t),t=z(t/128);en(e,127&t)},eo=new Uint8Array(3e4),ei=eo.length/3,er=U&&U.encodeInto?(e,t)=>{if(t.length<ei){let n=U.encodeInto(t,eo).written||0;es(e,n);for(let t=0;t<n;t++)en(e,eo[t])}else ec(e,P(t))}:(e,t)=>{let n=unescape(encodeURIComponent(t)),s=n.length;es(e,s);for(let t=0;t<s;t++)en(e,n.codePointAt(t))},ea=(e,t)=>{let n=e.cbuf.length,s=e.cpos,o=G(n-s,t.length),i=t.length-o;e.cbuf.set(t.subarray(0,o),s),e.cpos+=o,i>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(X(2*n,i)),e.cbuf.set(t.subarray(o)),e.cpos=i)},ec=(e,t)=>{es(e,t.byteLength),ea(e,t)},eu=e=>Error(e),el=eu("Unexpected end of array"),eh=eu("Integer out of Range");class ed{constructor(e){this.arr=e,this.pos=0}}let ef=e=>new ed(e),ep=(e,t)=>{let n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},eg=e=>ep(e,ey(e)),em=e=>e.arr[e.pos++],ey=e=>{let t=0,n=1,s=e.arr.length;for(;e.pos<s;){let s=e.arr[e.pos++];if(t+=(127&s)*n,n*=128,s<128)return t;if(t>Z)throw eh}throw el},eb=e=>{let t=e.arr[e.pos++],n=63&t,s=64,o=(64&t)>0?-1:1;if((128&t)==0)return o*n;let i=e.arr.length;for(;e.pos<i;){if(n+=(127&(t=e.arr[e.pos++]))*s,s*=128,t<128)return o*n;if(n>Z)throw eh}throw el},ew=T?e=>T.decode(eg(e)):e=>{let t=ey(e);if(0===t)return"";{let n=String.fromCodePoint(em(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(em(e));else for(;t>0;){let s=t<1e4?t:1e4,o=e.arr.subarray(e.pos,e.pos+s);e.pos+=s,n+=String.fromCodePoint.apply(null,o),t-=s}return decodeURIComponent(escape(n))}},ev=e=>{let t=e.pos,n=ew(e);return e.pos=t,n},eS=e=>new Uint8Array(e),eC=(e,t,n)=>new Uint8Array(e,t,n),eA=e=>new Uint8Array(e),ek=H?e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=v(e[n]);return btoa(t)}:e=>g.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),eD=H?e=>{let t=atob(e),n=eS(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}:e=>{let t=g.from(e,"base64");return eC(t.buffer,t.byteOffset,t.byteLength)},eU=new Map;class eP{constructor(e){this.room=e,this.onmessage=null,this._onChange=t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:eD(t.newValue||"")}),L(this._onChange)}postMessage(e){x.setItem(this.room,ek(eA(e)))}close(){$(this._onChange)}}let eT="undefined"==typeof BroadcastChannel?eP:BroadcastChannel,eO=e=>y(eU,e,()=>{let t=b(),n=new eT(e);return n.onmessage=e=>t.forEach(t=>t(e.data,"broadcastchannel")),{bc:n,subs:t}}),eE=(e,t)=>(eO(e).subs.add(t),t),eM=(e,t)=>{let n=eO(e),s=n.subs.delete(t);return s&&0===n.subs.size&&(n.bc.close(),eU.delete(e)),s},eI=(e,t,n=null)=>{let s=eO(e);s.bc.postMessage(t),s.subs.forEach(e=>e(t,n))},ex=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}},eL=Date.now;class e${constructor(){this._observers=m()}on(e,t){y(this._observers,e,b).add(t)}once(e,t){let n=(...s)=>{this.off(e,n),t(...s)};this.on(e,n)}off(e,t){let n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return w((this._observers.get(e)||m()).values()).forEach(e=>e(...t))}destroy(){this._observers=m()}}class eN extends e${constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let e=eL();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let t=[];this.meta.forEach((n,s)=>{s!==this.clientID&&3e4<=e-n.lastUpdated&&this.states.has(s)&&t.push(s)}),t.length>0&&eR(this,t,"timeout")},z(3e3)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){let t=this.clientID,n=this.meta.get(t),s=void 0===n?0:n.clock+1,o=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:s,lastUpdated:eL()});let i=[],r=[],a=[],c=[];null===e?c.push(t):null==o?null!=e&&i.push(t):(r.push(t),B(o,e)||a.push(t)),(i.length>0||a.length>0||c.length>0)&&this.emit("change",[{added:i,updated:a,removed:c},"local"]),this.emit("update",[{added:i,updated:r,removed:c},"local"])}setLocalStateField(e,t){let n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}let eR=(e,t,n)=>{let s=[];for(let n=0;n<t.length;n++){let o=t[n];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){let t=e.meta.get(o);e.meta.set(o,{clock:t.clock+1,lastUpdated:eL()})}s.push(o)}}s.length>0&&(e.emit("change",[{added:[],updated:[],removed:s},n]),e.emit("update",[{added:[],updated:[],removed:s},n]))},eQ=(e,t,n=e.states)=>{let s=t.length,o=K();es(o,s);for(let i=0;i<s;i++){let s=t[i],r=n.get(s)||null,a=e.meta.get(s).clock;es(o,s),es(o,a),er(o,JSON.stringify(r))}return et(o)},eV=(e,t,n)=>{let s=ef(t),o=eL(),i=[],r=[],a=[],c=[],u=ey(s);for(let t=0;t<u;t++){let t=ey(s),n=ey(s),u=JSON.parse(ew(s)),l=e.meta.get(t),h=e.states.get(t),d=void 0===l?0:l.clock;(d<n||d===n&&null===u&&e.states.has(t))&&(null===u?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,u),e.meta.set(t,{clock:n,lastUpdated:o}),void 0===l&&null!==u?i.push(t):void 0!==l&&null===u?c.push(t):null!==u&&(B(u,h)||a.push(t),r.push(t)))}(i.length>0||a.length>0||c.length>0)&&e.emit("change",[{added:i,updated:a,removed:c},n]),(i.length>0||r.length>0||c.length>0)&&e.emit("update",[{added:i,updated:r,removed:c},n])};class ej{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){let n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){let n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}let eB=e=>R(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`).join("&");(i=a||(a={}))[i.Sync=0]="Sync",i[i.Awareness=1]="Awareness",i[i.Auth=2]="Auth",i[i.QueryAwareness=3]="QueryAwareness",i[i.Stateless=5]="Stateless",i[i.CLOSE=7]="CLOSE",i[i.SyncStatus=8]="SyncStatus",(r=c||(c={})).Connecting="connecting",r.Connected="connected",r.Disconnected="disconnected";class eF{constructor(e){this.data=e,this.encoder=K(),this.decoder=ef(new Uint8Array(this.data))}peekVarString(){return ev(this.decoder)}readVarUint(){return ey(this.decoder)}readVarString(){return ew(this.decoder)}readVarUint8Array(){return eg(this.decoder)}writeVarUint(e){return es(this.encoder,e)}writeVarString(e){return er(this.encoder,e)}writeVarUint8Array(e){return ec(this.encoder,e)}length(){return ee(this.encoder)}}class eH extends ej{constructor(e){if(super(),this.messageQueue=[],this.configuration={url:"",document:void 0,WebSocketPolyfill:void 0,parameters:{},connect:!0,broadcast:!0,forceSyncInterval:!1,messageReconnectTimeout:3e4,delay:1e3,initialDelay:0,factor:2,maxAttempts:0,minDelay:1e3,maxDelay:3e4,jitter:!0,timeout:0,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,quiet:!1,providerMap:new Map},this.webSocket=null,this.webSocketHandlers={},this.shouldConnect=!0,this.status=c.Disconnected,this.lastMessageReceived=0,this.identifier=0,this.intervals={forceSync:null,connectionChecker:null},this.connectionAttempt=null,this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.closeTries=0,this.setConfiguration(e),this.configuration.WebSocketPolyfill=e.WebSocketPolyfill?e.WebSocketPolyfill:WebSocket,this.on("open",this.configuration.onOpen),this.on("open",this.onOpen.bind(this)),this.on("connect",this.configuration.onConnect),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("status",this.configuration.onStatus),this.on("status",this.onStatus.bind(this)),this.on("disconnect",this.configuration.onDisconnect),this.on("close",this.configuration.onClose),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("close",this.onClose.bind(this)),this.on("message",this.onMessage.bind(this)),this.intervals.connectionChecker=setInterval(this.checkConnection.bind(this),this.configuration.messageReconnectTimeout/10),void 0!==e.connect&&(this.shouldConnect=e.connect),!this.shouldConnect)return;this.connect()}async onOpen(e){this.receivedOnOpenPayload=e}async onStatus(e){this.receivedOnStatusPayload=e}attach(e){let t;return this.configuration.providerMap.set(e.configuration.name,e),this.status===c.Disconnected&&this.shouldConnect&&(t=this.connect()),this.receivedOnOpenPayload&&e.onOpen(this.receivedOnOpenPayload),this.receivedOnStatusPayload&&e.onStatus(this.receivedOnStatusPayload),t}detach(e){this.configuration.providerMap.delete(e.configuration.name)}setConfiguration(e={}){this.configuration={...this.configuration,...e}}async connect(){if(this.status===c.Connected)return;this.cancelWebsocketRetry&&(this.cancelWebsocketRetry(),this.cancelWebsocketRetry=void 0),this.receivedOnOpenPayload=void 0,this.receivedOnStatusPayload=void 0,this.shouldConnect=!0;let{retryPromise:e,cancelFunc:t}=(()=>{let e=!1;return{retryPromise:f(this.createWebSocketConnection.bind(this),{delay:this.configuration.delay,initialDelay:this.configuration.initialDelay,factor:this.configuration.factor,maxAttempts:this.configuration.maxAttempts,minDelay:this.configuration.minDelay,maxDelay:this.configuration.maxDelay,jitter:this.configuration.jitter,timeout:this.configuration.timeout,beforeAttempt:t=>{(!this.shouldConnect||e)&&t.abort()}}).catch(e=>{if(e&&"ATTEMPT_ABORTED"!==e.code)throw e}),cancelFunc:()=>{e=!0}}})();return this.cancelWebsocketRetry=t,e}attachWebSocketListeners(e,t){let{identifier:n}=e;this.webSocketHandlers[n]={message:e=>this.emit("message",e),close:e=>this.emit("close",{event:e}),open:e=>this.emit("open",e),error:e=>{t(e)}};let s=this.webSocketHandlers[e.identifier];Object.keys(s).forEach(t=>{e.addEventListener(t,s[t])})}cleanupWebSocket(){if(!this.webSocket)return;let{identifier:e}=this.webSocket,t=this.webSocketHandlers[e];Object.keys(t).forEach(n=>{var s;null===(s=this.webSocket)||void 0===s||s.removeEventListener(n,t[n]),delete this.webSocketHandlers[e]}),this.webSocket.close(),this.webSocket=null}createWebSocketConnection(){return new Promise((e,t)=>{this.webSocket&&(this.messageQueue=[],this.cleanupWebSocket()),this.lastMessageReceived=0,this.identifier+=1;let n=new this.configuration.WebSocketPolyfill(this.url);n.binaryType="arraybuffer",n.identifier=this.identifier,this.attachWebSocketListeners(n,t),this.webSocket=n,this.status=c.Connecting,this.emit("status",{status:c.Connecting}),this.connectionAttempt={resolve:e,reject:t}})}onMessage(e){var t;this.resolveConnectionAttempt(),this.lastMessageReceived=eL();let n=new eF(e.data).peekVarString();null===(t=this.configuration.providerMap.get(n))||void 0===t||t.onMessage(e)}resolveConnectionAttempt(){this.connectionAttempt&&(this.connectionAttempt.resolve(),this.connectionAttempt=null,this.status=c.Connected,this.emit("status",{status:c.Connected}),this.emit("connect"),this.messageQueue.forEach(e=>this.send(e)),this.messageQueue=[])}stopConnectionAttempt(){this.connectionAttempt=null}rejectConnectionAttempt(){var e;null===(e=this.connectionAttempt)||void 0===e||e.reject(),this.connectionAttempt=null}checkConnection(){var e;this.status!==c.Connected||!this.lastMessageReceived||this.configuration.messageReconnectTimeout>=eL()-this.lastMessageReceived||(this.closeTries+=1,this.closeTries>2?(this.onClose({event:{code:4408,reason:"forced"}}),this.closeTries=0):(null===(e=this.webSocket)||void 0===e||e.close(),this.messageQueue=[]))}get serverUrl(){for(;"/"===this.configuration.url[this.configuration.url.length-1];)return this.configuration.url.slice(0,this.configuration.url.length-1);return this.configuration.url}get url(){let e=eB(this.configuration.parameters);return`${this.serverUrl}${0===e.length?"":`?${e}`}`}disconnect(){if(this.shouldConnect=!1,null!==this.webSocket)try{this.webSocket.close(),this.messageQueue=[]}catch{}}send(e){var t;(null===(t=this.webSocket)||void 0===t?void 0:t.readyState)===u.$c.Open?this.webSocket.send(e):this.messageQueue.push(e)}onClose({event:e}){if(this.closeTries=0,this.cleanupWebSocket(),this.status===c.Connected&&(this.status=c.Disconnected,this.emit("status",{status:c.Disconnected}),this.emit("disconnect",{event:e})),e.code===u.NI.code&&(e.reason===u.NI.reason?console.warn("[HocuspocusProvider] An authentication token is required, but you didn’t send one. Try adding a `token` to your HocuspocusProvider configuration. Won’t try again."):console.warn(`[HocuspocusProvider] Connection closed with status Unauthorized: ${e.reason}`),this.shouldConnect=!1),e.code===u.rN.code&&!this.configuration.quiet){console.warn("[HocuspocusProvider] The provided authentication token isn’t allowed to connect to this server. Will try again.");return}e.code===u.pi.code&&(console.warn(`[HocuspocusProvider] Connection closed with status MessageTooBig: ${e.reason}`),this.shouldConnect=!1),this.connectionAttempt?this.rejectConnectionAttempt():this.shouldConnect&&this.connect(),this.shouldConnect||this.status===c.Disconnected||(this.status=c.Disconnected,this.emit("status",{status:c.Disconnected}),this.emit("disconnect",{event:e}))}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),clearInterval(this.intervals.connectionChecker),this.stopConnectionAttempt(),this.disconnect(),this.removeAllListeners(),this.cleanupWebSocket()}}let eq=(e,t)=>{es(e,0),ec(e,l.gJ(t))},e_=(e,t,n)=>{es(e,1),ec(e,l.D$(t,n))},eW=(e,t,n)=>e_(t,n,eg(e)),eJ=(e,t,n)=>{try{l.NG(t,eg(e),n)}catch(e){console.error("Caught error while handling a Yjs update",e)}},ez=(e,t)=>{es(e,2),ec(e,t)},eG=(e,t,n,s)=>{let o=ey(e);switch(o){case 0:eW(e,t,n);break;case 1:case 2:eJ(e,n,s);break;default:throw Error("Unknown message type")}return o};class eX{constructor(){this.encoder=K()}get(e){return e.encoder}toUint8Array(){return et(this.encoder)}}class eZ{constructor(e){this.broadcasted=!1,this.message=e}setBroadcasted(e){return this.broadcasted=e,this}apply(e,t){let{message:n}=this,s=n.readVarUint(),o=n.length();switch(s){case a.Sync:this.applySyncMessage(e,t);break;case a.Awareness:this.applyAwarenessMessage(e);break;case a.Auth:this.applyAuthMessage(e);break;case a.QueryAwareness:this.applyQueryAwarenessMessage(e);break;case a.Stateless:e.receiveStateless(ew(n.decoder));break;case a.SyncStatus:this.applySyncStatusMessage(e,1===eb(n.decoder));break;default:throw Error(`Can’t apply message of unknown type: ${s}`)}n.length()>o+1&&(this.broadcasted?e.broadcast(eX,{encoder:n.encoder}):e.send(eX,{encoder:n.encoder}))}applySyncMessage(e,t){let{message:n}=this;n.writeVarUint(a.Sync);let s=eG(n.decoder,n.encoder,e.document,e);t&&1===s&&(e.synced=!0)}applySyncStatusMessage(e,t){t&&e.decrementUnsyncedChanges()}applyAwarenessMessage(e){if(!e.awareness)return;let{message:t}=this;eV(e.awareness,t.readVarUint8Array(),e)}applyAuthMessage(e){let{message:t}=this;(0,u.nw)(t.decoder,e.permissionDeniedHandler.bind(e),e.authenticatedHandler.bind(e))}applyQueryAwarenessMessage(e){if(!e.awareness)return;let{message:t}=this;t.writeVarUint(a.Awareness),t.writeVarUint8Array(eQ(e.awareness,Array.from(e.awareness.getStates().keys())))}}class eY{constructor(e,t={}){this.message=new e,this.encoder=this.message.get(t)}create(){return et(this.encoder)}send(e){null==e||e.send(this.create())}broadcast(e){eI(e,this.create())}}class eK extends eX{constructor(){super(...arguments),this.type=a.Auth,this.description="Authentication"}get(e){if(void 0===e.token)throw Error("The authentication message requires `token` as an argument.");return er(this.encoder,e.documentName),es(this.encoder,this.type),(0,u.CL)(this.encoder,e.token),this.encoder}}class e0 extends eX{constructor(){super(...arguments),this.type=a.Awareness,this.description="Awareness states update"}get(e){let t;if(void 0===e.awareness)throw Error("The awareness message requires awareness as an argument");if(void 0===e.clients)throw Error("The awareness message requires clients as an argument");return er(this.encoder,e.documentName),es(this.encoder,this.type),t=void 0===e.states?eQ(e.awareness,e.clients):eQ(e.awareness,e.clients,e.states),ec(this.encoder,t),this.encoder}}class e1 extends eX{constructor(){super(...arguments),this.type=a.CLOSE,this.description="Ask the server to close the connection"}get(e){return er(this.encoder,e.documentName),es(this.encoder,this.type),this.encoder}}class e8 extends eX{constructor(){super(...arguments),this.type=a.QueryAwareness,this.description="Queries awareness states"}get(e){return er(this.encoder,e.documentName),es(this.encoder,this.type),this.encoder}}class e2 extends eX{constructor(){super(...arguments),this.type=a.Stateless,this.description="A stateless message"}get(e){var t;return er(this.encoder,e.documentName),es(this.encoder,this.type),er(this.encoder,null!==(t=e.payload)&&void 0!==t?t:""),this.encoder}}class e4 extends eX{constructor(){super(...arguments),this.type=a.Sync,this.description="First sync step"}get(e){if(void 0===e.document)throw Error("The sync step one message requires document as an argument");return er(this.encoder,e.documentName),es(this.encoder,this.type),eq(this.encoder,e.document),this.encoder}}class e3 extends eX{constructor(){super(...arguments),this.type=a.Sync,this.description="Second sync step"}get(e){if(void 0===e.document)throw Error("The sync step two message requires document as an argument");return er(this.encoder,e.documentName),es(this.encoder,this.type),e_(this.encoder,e.document),this.encoder}}class e7 extends eX{constructor(){super(...arguments),this.type=a.Sync,this.description="A document update"}get(e){return er(this.encoder,e.documentName),es(this.encoder,this.type),ez(this.encoder,e.update),this.encoder}}class e6 extends Error{constructor(){super(...arguments),this.code=1001}}class e9 extends ej{constructor(e){var t,n,s;super(),this.configuration={name:"",document:void 0,awareness:void 0,token:null,parameters:{},broadcast:!0,forceSyncInterval:!1,onAuthenticated:()=>null,onAuthenticationFailed:()=>null,onOpen:()=>null,onConnect:()=>null,onMessage:()=>null,onOutgoingMessage:()=>null,onStatus:()=>null,onSynced:()=>null,onDisconnect:()=>null,onClose:()=>null,onDestroy:()=>null,onAwarenessUpdate:()=>null,onAwarenessChange:()=>null,onStateless:()=>null,quiet:!1,connect:!0,preserveConnection:!0},this.subscribedToBroadcastChannel=!1,this.isSynced=!1,this.unsyncedChanges=0,this.status=c.Disconnected,this.isAuthenticated=!1,this.authorizedScope=void 0,this.mux=ex(),this.intervals={forceSync:null},this.isConnected=!0,this.boundBroadcastChannelSubscriber=this.broadcastChannelSubscriber.bind(this),this.boundPageUnload=this.pageUnload.bind(this),this.boundOnOpen=this.onOpen.bind(this),this.boundOnClose=this.onClose.bind(this),this.boundOnStatus=this.onStatus.bind(this),this.forwardConnect=e=>this.emit("connect",e),this.forwardOpen=e=>this.emit("open",e),this.forwardClose=e=>this.emit("close",e),this.forwardDisconnect=e=>this.emit("disconnect",e),this.forwardDestroy=e=>this.emit("destroy",e),this.setConfiguration(e),this.configuration.document=e.document?e.document:new l.QW,this.configuration.awareness=void 0!==e.awareness?e.awareness:new eN(this.document),this.on("open",this.configuration.onOpen),this.on("message",this.configuration.onMessage),this.on("outgoingMessage",this.configuration.onOutgoingMessage),this.on("synced",this.configuration.onSynced),this.on("destroy",this.configuration.onDestroy),this.on("awarenessUpdate",this.configuration.onAwarenessUpdate),this.on("awarenessChange",this.configuration.onAwarenessChange),this.on("stateless",this.configuration.onStateless),this.on("authenticated",this.configuration.onAuthenticated),this.on("authenticationFailed",this.configuration.onAuthenticationFailed),this.configuration.websocketProvider.on("connect",this.configuration.onConnect),this.configuration.websocketProvider.on("connect",this.forwardConnect),this.configuration.websocketProvider.on("open",this.boundOnOpen),this.configuration.websocketProvider.on("open",this.forwardOpen),this.configuration.websocketProvider.on("close",this.boundOnClose),this.configuration.websocketProvider.on("close",this.configuration.onClose),this.configuration.websocketProvider.on("close",this.forwardClose),this.configuration.websocketProvider.on("status",this.boundOnStatus),this.configuration.websocketProvider.on("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.on("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.on("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.on("destroy",this.forwardDestroy),null===(t=this.awareness)||void 0===t||t.on("update",()=>{this.emit("awarenessUpdate",{states:(0,u.QX)(this.awareness.getStates())})}),null===(n=this.awareness)||void 0===n||n.on("change",()=>{this.emit("awarenessChange",{states:(0,u.QX)(this.awareness.getStates())})}),this.document.on("update",this.documentUpdateHandler.bind(this)),null===(s=this.awareness)||void 0===s||s.on("update",this.awarenessUpdateHandler.bind(this)),this.registerEventListeners(),this.configuration.forceSyncInterval&&"number"==typeof this.configuration.forceSyncInterval&&(this.intervals.forceSync=setInterval(this.forceSync.bind(this),this.configuration.forceSyncInterval)),this.configuration.websocketProvider.attach(this)}onStatus({status:e}){this.status=e,this.configuration.onStatus({status:e}),this.emit("status",{status:e})}setConfiguration(e={}){!e.websocketProvider&&e.url&&(this.configuration.websocketProvider=new eH({url:e.url,connect:e.connect,parameters:e.parameters})),this.configuration={...this.configuration,...e}}get document(){return this.configuration.document}get awareness(){return this.configuration.awareness}get hasUnsyncedChanges(){return this.unsyncedChanges>0}incrementUnsyncedChanges(){this.unsyncedChanges+=1,this.emit("unsyncedChanges",this.unsyncedChanges)}decrementUnsyncedChanges(){this.unsyncedChanges-=1,0===this.unsyncedChanges&&(this.synced=!0),this.emit("unsyncedChanges",this.unsyncedChanges)}forceSync(){this.send(e4,{document:this.document,documentName:this.configuration.name})}pageUnload(){this.awareness&&eR(this.awareness,[this.document.clientID],"window unload")}registerEventListeners(){"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener("unload",this.boundPageUnload)}sendStateless(e){this.send(e2,{documentName:this.configuration.name,payload:e})}documentUpdateHandler(e,t){t!==this&&(this.incrementUnsyncedChanges(),this.send(e7,{update:e,documentName:this.configuration.name},!0))}awarenessUpdateHandler({added:e,updated:t,removed:n},s){let o=e.concat(t).concat(n);this.send(e0,{awareness:this.awareness,clients:o,documentName:this.configuration.name},!0)}get synced(){return this.isSynced}set synced(e){this.isSynced!==e&&(this.isSynced=e,this.emit("synced",{state:e}),this.emit("sync",{state:e}))}receiveStateless(e){this.emit("stateless",{payload:e})}get isAuthenticationRequired(){return!!this.configuration.token&&!this.isAuthenticated}async connect(){return this.configuration.broadcast&&this.subscribeToBroadcastChannel(),this.configuration.websocketProvider.shouldConnect=!0,this.configuration.websocketProvider.attach(this)}disconnect(){this.disconnectBroadcastChannel(),this.configuration.websocketProvider.detach(this),this.isConnected=!1,this.configuration.preserveConnection||this.configuration.websocketProvider.disconnect()}async onOpen(e){let t;this.isAuthenticated=!1,this.isConnected=!0,this.emit("open",{event:e});try{t=await this.getToken()}catch(e){this.permissionDeniedHandler(`Failed to get token: ${e}`);return}this.isAuthenticationRequired&&this.send(eK,{token:t,documentName:this.configuration.name}),this.startSync()}async getToken(){return"function"==typeof this.configuration.token?await this.configuration.token():this.configuration.token}startSync(){this.incrementUnsyncedChanges(),this.send(e4,{document:this.document,documentName:this.configuration.name}),this.awareness&&null!==this.awareness.getLocalState()&&this.send(e0,{awareness:this.awareness,clients:[this.document.clientID],documentName:this.configuration.name})}send(e,t,n=!1){if(!this.isConnected)return;n&&this.mux(()=>{this.broadcast(e,t)});let s=new eY(e,t);this.emit("outgoingMessage",{message:s.message}),s.send(this.configuration.websocketProvider)}onMessage(e){let t=new eF(e.data),n=t.readVarString();t.writeVarString(n),this.emit("message",{event:e,message:new eF(e.data)}),new eZ(t).apply(this,!0)}onClose(e){this.isAuthenticated=!1,this.synced=!1,this.awareness&&eR(this.awareness,Array.from(this.awareness.getStates().keys()).filter(e=>e!==this.document.clientID),this)}destroy(){this.emit("destroy"),this.intervals.forceSync&&clearInterval(this.intervals.forceSync),this.awareness&&(eR(this.awareness,[this.document.clientID],"provider destroy"),this.awareness.off("update",this.awarenessUpdateHandler),this.awareness.destroy()),this.document.off("update",this.documentUpdateHandler),this.removeAllListeners(),this.configuration.websocketProvider.off("connect",this.configuration.onConnect),this.configuration.websocketProvider.off("connect",this.forwardConnect),this.configuration.websocketProvider.off("open",this.boundOnOpen),this.configuration.websocketProvider.off("open",this.forwardOpen),this.configuration.websocketProvider.off("close",this.boundOnClose),this.configuration.websocketProvider.off("close",this.configuration.onClose),this.configuration.websocketProvider.off("close",this.forwardClose),this.configuration.websocketProvider.off("status",this.boundOnStatus),this.configuration.websocketProvider.off("disconnect",this.configuration.onDisconnect),this.configuration.websocketProvider.off("disconnect",this.forwardDisconnect),this.configuration.websocketProvider.off("destroy",this.configuration.onDestroy),this.configuration.websocketProvider.off("destroy",this.forwardDestroy),this.send(e1,{documentName:this.configuration.name}),this.disconnect(),"undefined"!=typeof window&&"removeEventListener"in window&&window.removeEventListener("unload",this.boundPageUnload)}permissionDeniedHandler(e){this.emit("authenticationFailed",{reason:e}),this.isAuthenticated=!1,this.disconnect(),this.status=c.Disconnected}authenticatedHandler(e){this.isAuthenticated=!0,this.authorizedScope=e,this.emit("authenticated")}get broadcastChannel(){return`${this.configuration.name}`}broadcastChannelSubscriber(e){this.mux(()=>{let t=new eF(e),n=t.readVarString();t.writeVarString(n),new eZ(t).setBroadcasted(!0).apply(this,!1)})}subscribeToBroadcastChannel(){this.subscribedToBroadcastChannel||(eE(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!0),this.mux(()=>{this.broadcast(e4,{document:this.document,documentName:this.configuration.name}),this.broadcast(e3,{document:this.document,documentName:this.configuration.name}),this.broadcast(e8,{document:this.document,documentName:this.configuration.name}),this.awareness&&this.broadcast(e0,{awareness:this.awareness,clients:[this.document.clientID],document:this.document,documentName:this.configuration.name})})}disconnectBroadcastChannel(){this.awareness&&this.send(e0,{awareness:this.awareness,clients:[this.document.clientID],states:new Map,documentName:this.configuration.name},!0),this.subscribedToBroadcastChannel&&(eM(this.broadcastChannel,this.boundBroadcastChannelSubscriber),this.subscribedToBroadcastChannel=!1)}broadcast(e,t){this.configuration.broadcast&&this.subscribedToBroadcastChannel&&new eY(e,t).broadcast(this.broadcastChannel)}setAwarenessField(e,t){if(!this.awareness)throw new e6(`Cannot set awareness field "${e}" to ${JSON.stringify(t)}. You have disabled Awareness for this provider by explicitly passing awareness: null in the provider configuration.`);this.awareness.setLocalStateField(e,t)}}crypto.getRandomValues.bind(crypto)},64652:function(e,t,n){"use strict";n.d(t,{ZT:function(){return U}});var s=n(37243);let o=e=>(0,s.DS)({find:/--$/,replace:null!=e?e:"—"}),i=e=>(0,s.DS)({find:/\.\.\.$/,replace:null!=e?e:"…"}),r=e=>(0,s.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:null!=e?e:"“"}),a=e=>(0,s.DS)({find:/"$/,replace:null!=e?e:"”"}),c=e=>(0,s.DS)({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:null!=e?e:"‘"}),u=e=>(0,s.DS)({find:/'$/,replace:null!=e?e:"’"}),l=e=>(0,s.DS)({find:/<-$/,replace:null!=e?e:"←"}),h=e=>(0,s.DS)({find:/->$/,replace:null!=e?e:"→"}),d=e=>(0,s.DS)({find:/\(c\)$/,replace:null!=e?e:"\xa9"}),f=e=>(0,s.DS)({find:/\(tm\)$/,replace:null!=e?e:"™"}),p=e=>(0,s.DS)({find:/\(sm\)$/,replace:null!=e?e:"℠"}),g=e=>(0,s.DS)({find:/\(r\)$/,replace:null!=e?e:"\xae"}),m=e=>(0,s.DS)({find:/(?:^|\s)(1\/2)\s$/,replace:null!=e?e:"\xbd"}),y=e=>(0,s.DS)({find:/\+\/-$/,replace:null!=e?e:"\xb1"}),b=e=>(0,s.DS)({find:/!=$/,replace:null!=e?e:"≠"}),w=e=>(0,s.DS)({find:/<<$/,replace:null!=e?e:"\xab"}),v=e=>(0,s.DS)({find:/>>$/,replace:null!=e?e:"\xbb"}),S=e=>(0,s.DS)({find:/\d+\s?([*x])\s?\d+$/,replace:null!=e?e:"\xd7"}),C=e=>(0,s.DS)({find:/\^2$/,replace:null!=e?e:"\xb2"}),A=e=>(0,s.DS)({find:/\^3$/,replace:null!=e?e:"\xb3"}),k=e=>(0,s.DS)({find:/(?:^|\s)(1\/4)\s$/,replace:null!=e?e:"\xbc"}),D=e=>(0,s.DS)({find:/(?:^|\s)(3\/4)\s$/,replace:null!=e?e:"\xbe"}),U=s.hj.create({name:"typography",addOptions:()=>({closeDoubleQuote:"”",closeSingleQuote:"’",copyright:"\xa9",ellipsis:"…",emDash:"—",laquo:"\xab",leftArrow:"←",multiplication:"\xd7",notEqual:"≠",oneHalf:"\xbd",oneQuarter:"\xbc",openDoubleQuote:"“",openSingleQuote:"‘",plusMinus:"\xb1",raquo:"\xbb",registeredTrademark:"\xae",rightArrow:"→",servicemark:"℠",superscriptThree:"\xb3",superscriptTwo:"\xb2",threeQuarters:"\xbe",trademark:"™"}),addInputRules(){let e=[];return!1!==this.options.emDash&&e.push(o(this.options.emDash)),!1!==this.options.ellipsis&&e.push(i(this.options.ellipsis)),!1!==this.options.openDoubleQuote&&e.push(r(this.options.openDoubleQuote)),!1!==this.options.closeDoubleQuote&&e.push(a(this.options.closeDoubleQuote)),!1!==this.options.openSingleQuote&&e.push(c(this.options.openSingleQuote)),!1!==this.options.closeSingleQuote&&e.push(u(this.options.closeSingleQuote)),!1!==this.options.leftArrow&&e.push(l(this.options.leftArrow)),!1!==this.options.rightArrow&&e.push(h(this.options.rightArrow)),!1!==this.options.copyright&&e.push(d(this.options.copyright)),!1!==this.options.trademark&&e.push(f(this.options.trademark)),!1!==this.options.servicemark&&e.push(p(this.options.servicemark)),!1!==this.options.registeredTrademark&&e.push(g(this.options.registeredTrademark)),!1!==this.options.oneHalf&&e.push(m(this.options.oneHalf)),!1!==this.options.plusMinus&&e.push(y(this.options.plusMinus)),!1!==this.options.notEqual&&e.push(b(this.options.notEqual)),!1!==this.options.laquo&&e.push(w(this.options.laquo)),!1!==this.options.raquo&&e.push(v(this.options.raquo)),!1!==this.options.multiplication&&e.push(S(this.options.multiplication)),!1!==this.options.superscriptTwo&&e.push(C(this.options.superscriptTwo)),!1!==this.options.superscriptThree&&e.push(A(this.options.superscriptThree)),!1!==this.options.oneQuarter&&e.push(k(this.options.oneQuarter)),!1!==this.options.threeQuarters&&e.push(D(this.options.threeQuarters)),e}})},3517:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var s=n(2784),o=n(62519),i=n(23993);function r(){i.O.current||(0,o.A)();let[e]=(0,s.useState)(i.n.current);return e}},92871:function(e,t,n){"use strict";n.d(t,{$2:function(){return i},jS:function(){return r},rc:function(){return s},x1:function(){return o}});let s=64,o=128,i=63,r=127},13475:function(e,t,n){"use strict";n.d(t,{Te:function(){return i}}),n(62664);var s=n(12023),o=n(48834).lW;let i=(e,t,n)=>new Uint8Array(e,t,n);s.jU||(e=>o.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")),s.jU||(e=>{let t=o.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)})},4576:function(e,t,n){"use strict";n.d(t,{HN:function(){return c},kf:function(){return h},l1:function(){return r},yg:function(){return l}});var s=n(13475),o=n(92871);n(68053);class i{constructor(e){this.arr=e,this.pos=0}}let r=e=>new i(e),a=(e,t)=>{let n=s.Te(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},c=e=>a(e,l(e)),u=e=>e.arr[e.pos++],l=e=>{let t=0,n=0;for(;;){let s=e.arr[e.pos++];if(t|=(s&o.jS)<<n,n+=7,s<o.x1)return t>>>0;if(n>53)throw Error("Integer out of range!")}},h=e=>{let t=l(e);if(0===t)return"";{let n=String.fromCodePoint(u(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(u(e));else for(;t>0;){let s=t<1e4?t:1e4,o=e.arr.subarray(e.pos,e.pos+s);e.pos+=s,n+=String.fromCodePoint.apply(null,o),t-=s}return decodeURIComponent(escape(n))}},d=(e,t)=>{let n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},f=[e=>void 0,e=>null,e=>{let t=e.arr[e.pos++],n=t&o.$2,s=6,i=(t&o.rc)>0?-1:1;if((t&o.x1)==0)return i*n;for(;;){if(n|=((t=e.arr[e.pos++])&o.jS)<<s,s+=7,t<o.x1)return i*(n>>>0);if(s>53)throw Error("Integer out of range!")}},e=>d(e,4).getFloat32(0,!1),e=>d(e,8).getFloat64(0,!1),e=>d(e,8).getBigInt64(0,!1),e=>!1,e=>!0,h,e=>{let t=l(e),n={};for(let s=0;s<t;s++)n[h(e)]=p(e);return n},e=>{let t=l(e),n=[];for(let s=0;s<t;s++)n.push(p(e));return n},c],p=e=>f[127-u(e)](e)},46201:function(e,t,n){"use strict";n.d(t,{Mf:function(){return a},_f:function(){return u},mP:function(){return g},uE:function(){return d},uw:function(){return f}});var s=n(13475),o=n(68053),i=n(92871);class r{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}let a=()=>new r,c=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},u=e=>{let t=new Uint8Array(c(e)),n=0;for(let s=0;s<e.bufs.length;s++){let o=e.bufs[s];t.set(o,n),n+=o.length}return t.set(s.Te(e.cbuf.buffer,0,e.cpos),n),t},l=(e,t)=>{let n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(buffer.createUint8ArrayViewFromArrayBuffer(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*math.max(n,t)),e.cpos=0)},h=(e,t)=>{let n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},d=(e,t)=>{for(;t>i.jS;)h(e,i.x1|i.jS&t),t>>>=7;h(e,i.jS&t)},f=(e,t)=>{let n=unescape(encodeURIComponent(t)),s=n.length;d(e,s);for(let t=0;t<s;t++)h(e,n.codePointAt(t))},p=(e,t)=>{let n=e.cbuf.length,s=e.cpos,i=o.VV(n-s,t.length),r=t.length-i;e.cbuf.set(t.subarray(0,i),s),e.cpos+=i,r>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(o.Fp(2*n,r)),e.cbuf.set(t.subarray(i)),e.cpos=r)},g=(e,t)=>{d(e,t.byteLength),p(e,t)};new DataView(new ArrayBuffer(4))}}]);
//# sourceMappingURL=4028-5f76627cfaab4bd6.js.map