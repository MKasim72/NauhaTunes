"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8260],{38260:function(e,s,i){i.d(s,{AA:function(){return r},TR:function(){return c},DY:function(){return em}});var l=i(52322),n=i(38035),o=i(81540);let r=()=>(0,l.jsx)(n.k,{className:"full-page-spinner",flex:"1",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(o.$,{})}),c=(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 33",children:[(0,l.jsx)("polygon",{points:"13.97 27.59 13.97 32.16 0.11 24.16 0.11 8.16 13.97 0.16 17.93 2.45 4.07 10.45 4.07 21.88 13.97 27.59",style:{fill:"#a6a6a6"}}),(0,l.jsx)("polyline",{points:"4.07 21.88 13.97 27.59 13.97 32.16 0.11 24.16",style:{fill:"#b3b3b3"}}),(0,l.jsx)("polygon",{points:"13.97 16.16 13.97 20.74 23.87 15.02 23.87 21.88 13.97 27.59 13.97 32.16 27.83 24.16 27.83 8.16 13.97 16.16",style:{fill:"#bfbfbf"}}),(0,l.jsx)("polygon",{points:"17.93 2.45 17.93 7.02 8.03 12.74 8.03 19.59 4.07 21.88 4.07 10.45 17.93 2.45",style:{fill:"#ccc"}}),(0,l.jsx)("polygon",{points:"19.91 17.31 19.91 19.59 23.87 21.88 23.87 15.02 19.91 17.31",style:{fill:"#ccc"}}),(0,l.jsx)("polygon",{points:"10.01 13.88 10.01 18.45 13.97 20.74 13.97 16.16 10.01 13.88",style:{fill:"#e6e6e6"}}),(0,l.jsx)("polygon",{points:"10.01 13.88 13.97 16.16 27.83 8.16 23.87 5.88 10.01 13.88",style:{fill:"#d9d9d9"}}),(0,l.jsx)("polygon",{points:"4.07 21.88 13.97 27.59 23.87 21.88 19.91 19.59 13.97 23.02 8.03 19.59 4.07 21.88",style:{fill:"#e6e6e6"}})]});var a=i(55478),d=i(10625),t=i(67046),x=i(109),j=i(332),u=i(99058),h=i(25481),p=i(69024),g=i(27599),m=i(42946),C=i(54933),f=i(49929),v=i(64253),b=i(5879),y=i(2784),k=i(95405),w=i(1547),A=i(10562),S=i(32132),z=i(80615),I=i(97134),O=(0,i(67012).I)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),U=i(29117),N=i(77533),_=i(47443),D=i(43297),E=i(74008),T=i(70065),M=i(92850),R=i(26468),F=i(22226),P=i(54326),G=i(2338),K=i(97217),L=i(28535),q=i(82713),H=i(50250),W=i(75768),Z=i(62614),$=i(87254),B=i(85949),J=i(23691);let X=()=>(0,l.jsxs)(U.U,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,l.jsx)(O,{w:4,h:4,color:"red.500"}),(0,l.jsx)(N.x,{fontSize:"sm",color:"red.500",children:(0,l.jsx)(b.cC,{id:"Ofm9ns"})})]}),V=e=>{let{user:s,workspace:i,canDeleteAccount:o}=e;return(0,l.jsxs)(_.b,{status:s||(null==i?void 0:i.memberCount)&&i.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,l.jsxs)(n.k,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,l.jsxs)(n.k,{flex:1,children:[(0,l.jsx)(x.q,{src:null==s?void 0:s.profileImageUrl,size:"sm",name:(null==s?void 0:s.displayName)||(null==i?void 0:i.name)}),(0,l.jsxs)(D.K,{spacing:0,ml:2,flex:"1",children:[(0,l.jsx)(N.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==s?void 0:s.displayName)||(null==i?void 0:i.name)}),s&&(0,l.jsx)(N.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:s.email}),i&&(0,l.jsx)(N.x,{fontSize:"xs",color:"gray.600",children:(0,l.jsx)(b.cC,{id:"LaQ44M",values:{0:i.memberCount||0}})})]})]}),(0,l.jsx)(n.k,{flexShrink:1,children:(s||i&&(null==i?void 0:i.memberCount)===1)&&(0,l.jsx)(X,{})})]}),(0,l.jsx)(E.i,{borderColor:"blackAlpha.200"}),(0,l.jsxs)(N.x,{pt:2,fontSize:"sm",color:s||(null==i?void 0:i.memberCount)&&i.memberCount<=1?"red.500":"yellow.700",children:[o&&s&&(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.cC,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]}),o&&(null==i?void 0:i.memberCount)&&(i.memberCount>1?(0,l.jsxs)(l.Fragment,{children:["⚠️ ",(0,l.jsx)(b.cC,{id:"QnF/9z"})]}):(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.cC,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]})),!o&&(0,l.jsxs)(l.Fragment,{children:["⚠️"," ",(0,l.jsx)(b.cC,{id:"eFx5qm"})]})]})]})},Q=e=>{var s,i;let{isOpen:n,onClose:o,user:r}=e,[c,a]=(0,y.useState)(!1),[d,t]=(0,y.useState)(!1),{data:x}=(0,B.NUx)(),j=(0,T.p)(),[u]=(0,B.I1z)(),h=(null==x?void 0:null===(i=x.user)||void 0===i?void 0:null===(s=i.workspaceMemberships)||void 0===s?void 0:s.filter(e=>!1===e.disabled))||[],p=h.filter(e=>{var s,i;return"admin"===e.role&&(null===(s=e.workspace)||void 0===s?void 0:s.adminCount)===1&&(null===(i=e.workspace)||void 0===i?void 0:i.memberCount)&&e.workspace.memberCount>1}),g=h.map(e=>e.workspace),m=0===p.length,C=(0,y.useCallback)(()=>{t(!0),u().then(e=>{let{data:s}=e;s&&(window.location.href="".concat(k.v.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(()=>{t(!1),j({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[j,u]);return(0,l.jsxs)(M.u_,{isOpen:n,onClose:o,size:"lg",closeOnOverlayClick:!1,children:[(0,l.jsx)(R.Z,{}),(0,l.jsxs)(F.h,{p:2,children:[(0,l.jsx)(P.x,{children:(0,l.jsx)(b.cC,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:J.N6}})}),(0,l.jsx)(G.o,{}),(0,l.jsxs)(K.f,{children:[m&&(0,l.jsxs)(D.K,{spacing:3,children:[(0,l.jsx)(N.x,{children:(0,l.jsx)(b.cC,{id:"gICMDu"})}),(0,l.jsxs)(L.xu,{children:[(0,l.jsx)(N.x,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.cC,{id:"sG4820"})}),(0,l.jsx)(V,{user:r,canDeleteAccount:m})]}),g&&g.length>0&&(0,l.jsxs)(L.xu,{children:[(0,l.jsx)(N.x,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.cC,{id:"dFEw4P"})}),null==g?void 0:g.map(e=>(0,l.jsx)(V,{workspace:e,canDeleteAccount:m},null==e?void 0:e.id))]}),(0,l.jsxs)(L.xu,{children:[(0,l.jsx)(N.x,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.cC,{id:"R3XcoA"})}),(0,l.jsxs)(U.U,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,l.jsx)(q.X,{size:"lg",spacing:"1rem",p:3,defaultChecked:c,onChange:e=>a(e.target.checked)}),(0,l.jsx)(N.x,{fontSize:"sm",children:(0,l.jsx)(b.cC,{id:"4YT8Pd"})})]})]})]}),!m&&(0,l.jsx)(D.K,{children:(0,l.jsxs)(L.xu,{children:[(0,l.jsx)(N.x,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(b.cC,{id:"nhUDfL"})}),null==g?void 0:g.map(e=>(0,l.jsx)(V,{workspace:e,canDeleteAccount:m},null==e?void 0:e.id))]})})]}),m&&(0,l.jsx)(H.m,{children:(0,l.jsxs)(W.h,{children:[(0,l.jsx)(Z.z,{variant:"ghost",colorScheme:"gray",onClick:o,children:(0,l.jsx)(b.cC,{id:"dEgA5A"})}),(0,l.jsx)(Z.z,{isDisabled:!c,variant:"hazardous",onClick:C,isLoading:d,loadingText:$.ag._({id:"O71YIC"}),children:(0,l.jsx)(b.cC,{id:"dfBVKc"})})]})})]})]})};var Y=i(75009),ee=i(87651),es=i(99793),ei=i(35183),el=i(97166),en=i(85573),eo=i(74409),er=i(41098),ec=i(9577),ea=i(13592),ed=i(72842),et=i(45585),ex=i(27238),ej=i(97912);let eu=e=>{let{isOpen:s,onClose:i,onConfirm:n,onDiscard:o,originalLocaleConfirmStrings:r}=e;return(0,l.jsxs)(M.u_,{isOpen:s,onClose:i,size:"xl",children:[(0,l.jsx)(R.Z,{}),(0,l.jsxs)(F.h,{children:[(0,l.jsx)(P.x,{children:(0,l.jsxs)(D.K,{spacing:0,children:[(0,l.jsx)(b.cC,{id:"sCTlv5"}),(null==r?void 0:r.title)?(0,l.jsxs)(N.x,{children:["(",null==r?void 0:r.title,")"]}):null]})}),(0,l.jsx)(G.o,{}),(0,l.jsx)(K.f,{children:(0,l.jsxs)(D.K,{spacing:0,children:[(0,l.jsx)(N.x,{children:(0,l.jsx)(b.cC,{id:"EVJO23"})}),(null==r?void 0:r.body)?(0,l.jsxs)(N.x,{children:["(",null==r?void 0:r.body,")"]}):(0,l.jsx)(l.Fragment,{})]})}),(0,l.jsx)(H.m,{children:(0,l.jsxs)(W.h,{flexWrap:"wrap",gap:"3",justifyContent:"flex-end",spacing:"0",children:[(0,l.jsx)(Z.z,{variant:"ghost",onClick:o,...(null==r?void 0:r.secondaryCTA)?{height:"fit-content",py:4}:{},children:(0,l.jsxs)(D.K,{spacing:0,children:[(0,l.jsx)(b.cC,{id:"3EbjfR"}),(null==r?void 0:r.secondaryCTA)?(0,l.jsxs)(N.x,{children:["(",null==r?void 0:r.secondaryCTA,")"]}):null]})}),(0,l.jsx)(Z.z,{variant:"solid",onClick:n,...(null==r?void 0:r.primaryCTA)?{height:"fit-content",py:4}:{},children:(0,l.jsxs)(D.K,{spacing:0,children:[(0,l.jsx)(b.cC,{id:"y3aU20"}),(null==r?void 0:r.primaryCTA)?(0,l.jsxs)(N.x,{children:["(",null==r?void 0:r.primaryCTA,")"]}):null]})})]})})]})]})},eh={cropped:"",original:""},ep=e=>{var s,i,r,c;let{isOpen:a,onClose:j,onAccountDeleteModalOpen:p,user:k,orgId:w}=e,A=(0,T.p)(),[O,{loading:_,error:W}]=(0,B.kDo)(),[J,X]=(0,y.useState)(!1),{isOpen:V,onOpen:Q,onClose:ep}=(0,ex.M)({id:"account-settings-unsaved-changes"}),{setSettings:eg}=(0,I.SE)(),em=(0,z.l)(),eC=(0,y.useMemo)(()=>em,[]),[ef,ev]=(0,y.useState)(eC),[eb]=(0,y.useState)({title:$.ag._({id:"sCTlv5"}),body:$.ag._({id:"EVJO23"}),primaryCTA:$.ag._({id:"y3aU20"}),secondaryCTA:$.ag._({id:"3EbjfR"})});(0,ea.m)(ef);let[ey,ek]=(0,y.useState)(k.firstName||""),[ew,eA]=(0,y.useState)(k.lastName||""),[eS,ez]=(0,y.useState)((null===(s=k.settings)||void 0===s?void 0:s.unsubscribeAnnouncementEmails)||!1),[eI,eO]=(0,y.useState)((null===(i=k.settings)||void 0===i?void 0:i.unsubscribeOnboardingEmails)||!1),eU=!eI,eN=!eS,[e_,eD]=(0,y.useState)(k.profileImageUrl||null),[eE,eT]=(0,y.useState)(eh),[eM,eR]=(0,y.useState)("original"),eF=eE.cropped&&"cropped"===eM?eE.cropped:eE.original&&"original"===eM?eE.original:e_,[eP,eG]=(0,y.useState)("idle"),eK=(0,y.useMemo)(()=>ed.ND.createUppyInstance(w,{onUploadStart:e=>{eT(eh),eG("uploading"),eR("original"),(0,ej.Ns)(e.file.type||"")||eD(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[AccountSettingsModal] onOriginalFileUpload",e),eD(e.src),eT(s=>({...s,original:e.src}))},onUploadComplete:e=>{console.debug("[AccountSettingsModal] onUploadComplete",e),eD(s=>s||e.src),eT(()=>({original:e.src,cropped:e.croppedFace||""})),eG("idle"),eK.cancelAll()},onUploadFailed:()=>{eG("error"),eK.cancelAll()}},"profile"),[w]),{onClick:eL,inputElement:eq}=(0,et.e)({uppy:eK}),eH=(0,y.useCallback)(()=>{p&&(p(),j())},[p,j]),eW=(0,y.useCallback)(()=>{var e,s;eK.cancelAll(),eG("idle"),ek(k.firstName||""),eA(k.lastName||""),eD(k.profileImageUrl||null),ez((null===(e=k.settings)||void 0===e?void 0:e.unsubscribeAnnouncementEmails)||!1),eO((null===(s=k.settings)||void 0===s?void 0:s.unsubscribeOnboardingEmails)||!1),eR("original"),eT(eh),ev(eC)},[k,eC,eK]),eZ=ef!==eC,e$=!!(null===(r=k.settings)||void 0===r?void 0:r.unsubscribeAnnouncementEmails)!==eS,eB=!!(null===(c=k.settings)||void 0===c?void 0:c.unsubscribeOnboardingEmails)!==eI,eJ=ey!==k.firstName||ew!==k.lastName||e_!==k.profileImageUrl,eX=(0,y.useMemo)(()=>eJ||eZ||e$||eB,[eZ,eJ,e$,eB]),eV=(0,y.useCallback)(()=>{if(!eX){j();return}let e=[],s=eZ&&S.p_.includes(ef);eg&&(s||e$||eB)&&e.push(eg({set:{...s?{locale:ef}:{},...e$?{unsubscribeAnnouncementEmails:eS}:{},...eB?{unsubscribeOnboardingEmails:eI}:{}}})),eJ&&e.push(O({variables:{input:{id:k.id,firstName:ey,lastName:ew,profileImageUrl:e_||""}}})),X(!0),Promise.all(e).then(()=>{j(),A({title:(0,l.jsx)(b.cC,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==k?void 0:k.id,'"'),e.message)}).finally(()=>{X(!1)})},[ey,eX,eZ,eJ,ew,ef,j,e_,eg,A,eS,e$,eI,eB,O,k.id]),eQ=ey.length<1&&ew.length<1||!!(null==W?void 0:W.message)||"error"===eP,eY=(0,y.useCallback)(()=>{eX?Q():j()},[eX,j,Q]);return(0,l.jsxs)(M.u_,{isOpen:a,onClose:eY,size:"2xl",closeOnOverlayClick:!1,children:[eq,(0,l.jsxs)(L.xu,{w:0,h:0,children:[(0,l.jsx)(Y.E,{src:eE.original}),(0,l.jsx)(Y.E,{src:eE.cropped})]}),(0,l.jsx)(R.Z,{}),(0,l.jsxs)(F.h,{children:[(0,l.jsx)(P.x,{children:(0,l.jsx)(b.cC,{id:"T3FM0r"})}),(0,l.jsx)(G.o,{}),(0,l.jsx)(E.i,{mb:4}),(0,l.jsx)(K.f,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,l.jsxs)(D.K,{direction:"column",w:"100%",px:4,spacing:10,children:[(0,l.jsxs)(n.k,{direction:"row",justifyContent:"space-between",w:"100%",gap:4,children:[(0,l.jsxs)(D.K,{direction:"column",alignItems:"center",px:10,justifyContent:"center",children:[(0,l.jsxs)(d.v,{placement:"bottom-start",offset:[100,0],children:[(0,l.jsx)(v.kH,{label:(0,l.jsx)(b.cC,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,l.jsx)(t.j,{position:"relative",disabled:"uploading"===eP,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,l.jsxs)(x.q,{src:eF||"",name:"".concat(ey," ").concat(ew).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===eP&&(0,l.jsx)(L.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,l.jsx)(o.$,{size:"xl",thickness:"2px"})}),(0,l.jsx)(L.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,l.jsx)(f.G,{icon:e_?m._jT:m.Xcf,width:16,height:16,size:"xs"})})]})})}),(0,l.jsxs)(u.q,{fontSize:"sm",children:[(0,l.jsx)(h.s,{onClick:()=>{"uploading"!==eP&&eL()},children:(0,l.jsxs)(U.U,{children:[(0,l.jsx)(f.G,{icon:C.A$k}),(0,l.jsx)(N.x,{children:(0,l.jsx)(b.cC,{id:"wPTug2"})})]})}),e_&&(0,l.jsx)(g.R,{}),e_&&(0,l.jsx)(h.s,{onClick:()=>{eD(null),eT(eh)},children:(0,l.jsxs)(U.U,{color:"var(--chakra-colors-red-500)",children:[(0,l.jsx)(f.G,{icon:m.Vui,color:"var(--chakra-colors-red-500)"}),(0,l.jsx)(N.x,{children:(0,l.jsx)(b.cC,{id:"k8od7T"})})]})})]})]}),(0,l.jsx)(ee.U,{in:!!e_&&!!eE.cropped&&e_!==k.profileImageUrl&&"idle"===eP,animateOpacity:!0,children:(0,l.jsx)(q.X,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===eM,onChange:e=>{eR(e.target.checked?"cropped":"original"),eD(e.target.checked?eE.cropped:eE.original)},mb:3,children:(0,l.jsx)(b.cC,{id:"+J8/VC"})})}),(0,l.jsx)(es.J1,{children:"error"===eP&&(0,l.jsx)(b.cC,{id:"CCcfKO"})}),(0,l.jsxs)(D.K,{spacing:0,alignItems:"center",children:[(0,l.jsx)(N.x,{fontSize:"lg",fontWeight:"bold",children:k.displayName}),(0,l.jsx)(N.x,{color:"gray.500",fontSize:"sm",children:k.email})]})]}),(0,l.jsxs)(D.K,{direction:"column",flex:1,w:"100%",spacing:4,children:[(0,l.jsxs)(ei.NI,{isInvalid:eQ,children:[(0,l.jsx)(el.l,{children:(0,l.jsx)(b.cC,{id:"V1EGGU"})}),(0,l.jsx)(en.I,{w:"100%",value:ey,onChange:e=>ek(e.target.value.slice(0,60))})]}),(0,l.jsxs)(ei.NI,{isInvalid:eQ,children:[(0,l.jsx)(el.l,{children:(0,l.jsx)(b.cC,{id:"1ZaQUH"})}),(0,l.jsx)(en.I,{w:"100%",value:ew,onChange:e=>eA(e.target.value.slice(0,60))}),(0,l.jsx)(es.J1,{children:(null==W?void 0:W.message)?null==W?void 0:W.message:(0,l.jsx)(b.cC,{id:"yQeiGC"})})]}),(0,l.jsxs)(ei.NI,{children:[(0,l.jsx)(el.l,{children:(0,l.jsxs)(D.K,{direction:"row",alignItems:"center",gap:2,children:[(0,l.jsx)(f.G,{icon:m.g4A}),(0,l.jsx)(b.cC,{id:"vXIe7J"})]})}),(0,l.jsx)(ec.Y,{selectedLocale:S.w$[ef],onLocaleSelect:ev})]})]})]}),(0,l.jsxs)(D.K,{spacing:4,children:[(0,l.jsxs)(D.K,{children:[(0,l.jsx)(eo.X,{as:"h2",size:"md",children:(0,l.jsx)(b.cC,{id:"ZbXNIW"})}),(0,l.jsx)(N.x,{size:"sm",color:"gray.500",children:(0,l.jsx)(b.cC,{id:"2ZAirE"})})]}),(0,l.jsx)(N.x,{children:(0,l.jsx)(b.cC,{id:"iJoBlx"})}),(0,l.jsxs)(ei.NI,{as:n.k,gap:2,alignItems:"center",children:[(0,l.jsx)(er.r,{size:"md",isChecked:eU,onChange:e=>eO(!e.target.checked)}),(0,l.jsx)(el.l,{m:0,cursor:"pointer",children:(0,l.jsx)(b.cC,{id:"gukxZ5"})})]}),(0,l.jsxs)(ei.NI,{as:n.k,gap:2,alignItems:"center",children:[(0,l.jsx)(er.r,{size:"md",isChecked:eN,onChange:e=>ez(!e.target.checked)}),(0,l.jsx)(el.l,{m:0,cursor:"pointer",children:(0,l.jsx)(b.cC,{id:"8Q6T6o"})})]})]})]})}),(0,l.jsx)(H.m,{children:(0,l.jsxs)(n.k,{justifyContent:"space-between",flex:1,alignItems:"flex-end",p:2,children:[(0,l.jsx)(n.k,{children:(0,l.jsx)(Z.z,{variant:"plain",onClick:eH,children:(0,l.jsx)(b.cC,{id:"ktknoE"})})}),(0,l.jsxs)(n.k,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[eX&&(0,l.jsx)(Z.z,{variant:"ghost",colorScheme:"gray",onClick:eW,children:(0,l.jsx)(b.cC,{id:"dEgA5A"})}),(0,l.jsx)(Z.z,{variant:"solid",onClick:eV,isDisabled:eQ||"uploading"===eP,isLoading:_||J,children:eX?(0,l.jsx)(b.cC,{id:"y3aU20"}):(0,l.jsx)(b.cC,{id:"DPfwMq"})})]})]})})]}),(0,l.jsx)(eu,{isOpen:V,onClose:ep,onConfirm:eV,onDiscard:()=>{ep(),j()},originalLocaleConfirmStrings:ef!==eC?eb:null})]})};var eg=i(70965);let em=(0,y.memo)(e=>{var s;let{showRing:i}=e,{isInOfflineMode:n}=(0,w.$)(),{user:o,anonymousUser:r,isUserLoading:c,color:y,currentWorkspace:O}=(0,I.SE)(),{isOpen:U,onOpen:N,onClose:_}=(0,a.q)({id:"locale-modal-profile-menu"}),D=(0,z.l)(),E=(0,eg.iq)(["xs","sm"]),T={...r,organizations:[]},{displayName:M,profileImageUrl:R}=o||T,{isConnected:F}=(0,w.$)(),{isOpen:P,onOpen:G,onClose:K}=(0,a.q)({id:"user-settings-modal"}),{isOpen:L,onOpen:q,onClose:H}=(0,a.q)({id:"account-delete-modal"});return(0,l.jsxs)(d.v,{children:[(0,l.jsx)(v.kH,{label:F?o?(0,l.jsx)(b.cC,{id:"hBHHtH"}):M:(0,l.jsx)(b.cC,{id:"ysdDIA"}),children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t.j,{tabIndex:0,_focus:{shadow:"outline"},as:x.q,bg:y.value,color:y.isDark?"white":"black",border:i?"solid 2px ".concat(y.value):"solid 2px var(--chakra-colors-gray-100)",shadow:i?"base":void 0,outline:"none",name:c?void 0:M,src:R,size:E,alignItems:"center",className:"profile-menu-avatar",flexDirection:"column",cursor:"pointer",transition:"box-shadow 150ms ease-out",_hover:{shadow:"0 0 0 3px #CBD5E0"},onDragStart:e=>e.preventDefault(),sx:{span:{display:"none"}}})})}),(0,l.jsx)(j.h,{children:(0,l.jsx)(u.q,{zIndex:"popover",children:o?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(p.k,{title:o.email||M,children:[(0,l.jsx)(g.R,{}),(0,l.jsx)(h.s,{color:"gray.700",icon:(0,l.jsx)(f.G,{icon:C.gr5,fixedWidth:!0}),onClick:G,isDisabled:n,children:(0,l.jsx)(b.cC,{id:"LpPf/O"})}),(0,l.jsx)(h.s,{icon:(0,l.jsx)(f.G,{fixedWidth:!0,icon:m.g4A}),onClick:N,children:(null===(s=S.w$[D])||void 0===s?void 0:s.displayName)||"Unknown"}),(0,l.jsx)(h.s,{color:"red.500",icon:(0,l.jsx)(f.G,{icon:m.jLD,fixedWidth:!0}),onClick:()=>{window.location.href="".concat(k.v.API_HOST,"/logout")},isDisabled:n,children:(0,l.jsx)(b.cC,{id:"fcWrnU"})})]})}):(0,l.jsx)(h.s,{icon:(0,l.jsx)(f.G,{icon:m.$Wj,fixedWidth:!0}),onClick:()=>{window.location.href="/signin"},isDisabled:n,children:(0,l.jsx)(b.cC,{id:"n1ekoW"})})})}),P&&o&&(0,l.jsx)(ep,{orgId:(null==O?void 0:O.id)||"",user:o,isOpen:P,onClose:K,onAccountDeleteModalOpen:q}),L&&o&&(0,l.jsx)(Q,{user:o,isOpen:L,onClose:H}),U&&(0,l.jsx)(A.E,{onClose:_})]})});em.displayName="ProfileMenu"}}]);
//# sourceMappingURL=8260-62644db8b12cb590.js.map