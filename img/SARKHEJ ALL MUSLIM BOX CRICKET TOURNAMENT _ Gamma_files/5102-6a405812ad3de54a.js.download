"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5102],{14625:function(e,n,i){i.d(n,{U:function(){return l}});var t=i(2784),a=i(95405),r=i(31601),d=i(47211);let l=()=>{let e=(0,t.useRef)(!1),n=(0,t.useRef)(new Map);(0,t.useEffect)(()=>{if("production"!==a.v.APPLICATION_ENVIRONMENT)return;let i=()=>{if(e.current)return;let i=n.current.get("total"),t=n.current.get("notTrusted");t/i>.5&&i>5&&(e.current=!0,d.c.track(r.xW.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:i,notTrustedEvents:t}))},t=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),i()};return document.addEventListener("paste",t,{capture:!0}),document.addEventListener("mousedown",t,{capture:!0}),document.addEventListener("keydown",t,{capture:!0}),()=>{document.removeEventListener("paste",t,{capture:!0}),document.removeEventListener("mousedown",t,{capture:!0}),document.removeEventListener("keydown",t,{capture:!0})}},[])}},60094:function(e,n,i){i.d(n,{S:function(){return d}});var t=i(92035),a=i(40382),r=i(69465);let d=()=>{let e=!(0,t.l6)()&&!(0,r.wg)();return(0,a.GE)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},82037:function(e,n,i){i.d(n,{E:function(){return g}});var t=i(52322),a=i(62202),r=i(78360),d=i(64253),l=i(2784),o=i(32132),c=i(80615),u=i(54839);let s=(e,n)=>{if(e.globalToast)return;let i=(0,u.I)({theme:n});e.globalToast=i},g=e=>{let{children:n}=e,i=(0,c.l)(),u=o.w$[i],g=(null==u?void 0:u.rtl)===!0?"rtl":"ltr",p=(0,l.useMemo)(()=>(0,a.B1)(d.qZ,{direction:g,styles:{global:{".ProseMirror":{outline:"0 none"}}}}),[g]);return(0,l.useEffect)(()=>{s(window,p)},[]),(0,t.jsx)(r.x,{theme:p,resetCSS:!0,children:n})}},53250:function(e,n,i){i.d(n,{S1:function(){return b},B_:function(){return w},ET:function(){return h}});var t=i(2784),a=i(95405),r=i(41638),d=i(37012),l=i(80615),o=i(82528),c=i(2529),u=i(31601),s=i(97134),g=i(92035),p=i(3158),v=i(69465),m=i(87254),_=i(82108),f=i.n(_),y=i(23691);let C=(e,n)=>{let i=f()(n);return{[e]:{next:m.ag._({id:"hXzOVo"}),back:m.ag._({id:"iH8pgl"}),nevermind:m.ag._({id:"CKyk7Q"}),goToAccount:m.ag._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:y.N6}}),getHelp:m.ag._({id:"pWsyuL"}),declineOffer:m.ag._({id:"aIFikE"}),confirmAndCancel:m.ag._({id:"G9nPRC"}),pauseSubscription:m.ag._({id:"2RgEmU"}),cancelSubscription:m.ag._({id:"dEgA5A"}),discountSubscription:m.ag._({id:"qG4Wa/"}),claimOffer:m.ag._({id:"/Gl/RK"}),discountOff:m.ag._({id:"Bdtwnw"}),discountFor:m.ag._({id:"sQv06Y"}),discountForever:m.ag._({id:"FsOOWf"}),discountOneTime:m.ag._({id:"HpXCa4"}),day:m.ag._({id:"5YWExy"}),month:m.ag._({id:"obrMay"}),year:m.ag._({id:"/Tw548"}),error:m.ag._({id:"wTrpxV"}),genericErrorDescription:m.ag._({id:"PUjJ3A"}),cancelNow:m.ag._({id:"EiakwV"}),applyingDiscount:m.ag._({id:"8kSYjw"}),applyingCancel:m.ag._({id:"VpuvNv"}),applyingResume:m.ag._({id:"eIoGiX"}),applyingPause:m.ag._({id:"UD7gOq"}),discountApplied:m.ag._({id:"jdYyiz"}),discountAppliedMessage:m.ag._({id:"DhHX6G"}),pauseApplied:m.ag._({id:"eeITvj"}),pauseAppliedMessage:m.ag._({id:"nm0VaE"}),pauseAppliedResumeMessage:m.ag._({id:"qOe0SS"}),pauseScheduledMessage:m.ag._({id:"mqRc6d"}),until:m.ag._({id:"C51N+0"}),cancelApplied:m.ag._({id:"Wcg6zu"}),cancelAppliedMessage:m.ag._({id:"8vN97Y"}),cancelAppliedDateMessage:m.ag._({id:"BS/SGu"}),howLongToPausePrompt:m.ag._({id:"HLyJ9n"}),whatCouldWeHaveDone:m.ag._({id:"fcbm8H"}),weReadEveryAnswer:m.ag._({id:"nkuKRd"}),applyingCustomerAction:m.ag._({id:"PXwF+s"}),loading:m.ag._({id:"Z3FXyt"}),pauseWallCardPunch:m.ag._({id:"iL2TQ6"}),pauseWallCta:m.ag._({id:"TvXj47"}),pauseWallCardHeading:m.ag._({id:"kHm8Fg"}),scheduledToReactivate:m.ag._({id:"aH7vi8"}),resumeApplied:m.ag._({id:"diOgYK"}),resumeAppliedMessage:m.ag._({id:"YqFvUY"}),resumeNextChargeMessage:m.ag._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:m.ag._({id:"RrvVAn"}),resumeAccountDataInfo:m.ag._({id:"dJCJXA"}),subscriptionPauseNotice:m.ag._({id:"fpxliT"}),failedPaymentNotice:m.ag._({id:"Vxg5vO"}),chargedMultipleTimeNotice:m.ag._({id:"lAlv46"}),failedPaymentCardPunch:m.ag._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:y.N6,productName:i}}),resumeHey:m.ag._({id:"hdOctW"}),invoicePaidTitle:m.ag._({id:"aJGfDL"}),logout:m.ag._({id:"W+3RJN"}),note:m.ag._({id:"ycCSuD"}),discount:m.ag._({id:"HmpVeZ"}),discountNoticeHeadline:m.ag._({id:"5P1dmt"}),discountNoticePrepend:m.ag._({id:"yjadEY"}),discountOverride:m.ag._({id:"JfBDWL"}),discountValidUntil:m.ag._({id:"uXxNua"}),updateBilling:m.ag._({id:"tQilrI"}),extendTrialCTA:m.ag._({id:"m3l7VI"}),extendTrialPunch:m.ag._({id:"s5pINo"}),extendTrialOfferTitle:m.ag._({id:"SyzXYh"}),trialExtended:m.ag._({id:"fezME2"}),trialExtendedMessage:m.ag._({id:"QE4mUs"}),applyingTrialExtension:m.ag._({id:"vI2q9R"}),switchPlanCTA:m.ag._({id:"P2mx2L"}),changePlanHighlights:m.ag._({id:"qbgW+C"}),changePlanOfferPunch:m.ag._({id:"MRkiFP"}),planChanged:m.ag._({id:"ByFtyh"}),planChangedMessage:m.ag._({id:"Pf5z1G"}),applyingPlanChange:m.ag._({id:"9vKKLI"}),surveyStepTag:m.ag._({id:"cSUBI1"}),freeFormStepTag:m.ag._({id:"cSUBI1"}),finalConfirmation:m.ag._({id:"1/oP/N"}),offerDiscountTag:m.ag._({id:"LTgtxG"}),offerChangePlanTag:m.ag._({id:"ENMJv2"}),offerExtendTrialTag:m.ag._({id:"MWKntz"}),offerRedirectTag:m.ag._({id:"cvpAvL"}),offerContactTag:m.ag._({id:"cvpAvL"}),offerPauseTag:m.ag._({id:"+T6DGl"}),completeTag:m.ag._({id:"K5c1e7"}),errorTag:m.ag._({id:"EuvbIW"}),offerAccepted:m.ag._({id:"ZU0opP"})}}},E="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(a.v.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),b=()=>{let e=!(0,g.l6)()&&!(0,v.wg)();return(0,p.G)(e,E),null},h=e=>{var n;let{subscription:i,workspace:u,autoLaunch:g=!0}=e,{user:p}=(0,s.SE)(),v=(0,d.ye)("churnkeyFailedPaymentWallEnabled"),m=(0,l.l)(),_=(0,c.K9)(u),f=(0,o.G)(),y=v&&(null==p?void 0:p.id)===(null==i?void 0:null===(n=i.createdByUser)||void 0===n?void 0:n.id),C=(0,t.useCallback)(async()=>{if(i&&_&&y)return(0,r.d6)("churnkey").then(e=>{var n,t;if(!e||!i.billingSubscriptionId||!(null===(n=i.createdByUser)||void 0===n?void 0:n.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:i});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:a.v.CHURNKEY_APP_ID,subscriptionId:i.billingSubscriptionId,customerId:null===(t=i.createdByUser)||void 0===t?void 0:t.billingCustomerId}),I({authHash:e,subscription:i,localeKey:m,productKey:_,launchIntercomUI:f})})},[i,_,y,m,f]);return(0,t.useEffect)(()=>{g&&C()},[C,g]),{launchFailedPaymentFlow:C,failedPaymentFlowEnabled:y}},I=async e=>{var n,i;let{authHash:t,subscription:r,localeKey:d,productKey:l,launchIntercomUI:o}=e;null===(i=window.churnkey)||void 0===i||i.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId,authHash:t,customerAttributes:{language:d},i18n:{lang:d,messages:C(d,l)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;o(),u.co.track(u.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var n,i;return u.co.track(u.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null===(i=r.createdByUser)||void 0===i?void 0:i.billingCustomerId,customer:e}),A({authHash:t,subscription:r,localeKey:d,productKey:l,launchIntercomUI:o,customerAttributes:{viaFailedPayment:!0}}).catch(e=>I({authHash:t,subscription:r,localeKey:d,productKey:l,launchIntercomUI:o}))},onFailedPaymentWallActivated(){var e;u.co.track(u.AA.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;u.co.track(u.AA.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;u.co.track(u.AA.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;u.co.track(u.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},w=(e,n)=>{let i=(0,d.ye)("churnkeyCancelFlowEnabled"),a=(0,l.l)(),u=(0,c.K9)(n),s=(0,o.G)();return{launchCancelFlow:(0,t.useCallback)(()=>{if(e&&u&&i)return(0,r.d6)("churnkey").then(n=>{var i;if(!n||!e.billingSubscriptionId||!(null===(i=e.createdByUser)||void 0===i?void 0:i.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e});return}return A({authHash:n,subscription:e,localeKey:a,productKey:u,launchIntercomUI:s})})},[i,a,u,e,s]),cancelFlowEnabled:i}},A=async e=>{let{authHash:n,subscription:i,localeKey:t,productKey:r,customerAttributes:d={},launchIntercomUI:l}=e;return new Promise((e,o)=>{var s,g,p;null===(p=window.churnkey)||void 0===p||p.init("show",{subscriptionId:i.billingSubscriptionId,customerId:null===(s=i.createdByUser)||void 0===s?void 0:s.billingCustomerId,authHash:n,customerAttributes:{language:t,frequency:null===(g=(0,c.OJ)(i))||void 0===g?void 0:g.frequencyUnit,productKey:r,...d},i18n:{lang:t,messages:C(t,r)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;l(),u.co.track(u.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(e=i.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,n,t){var a;u.co.track(u.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:i.billingSubscriptionId,customerId:null===(a=i.createdByUser)||void 0===a?void 0:a.billingCustomerId,surveyResponse:n,freeformFeedback:t}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:t})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted){o("Churnkey cancel flow aborted");return}e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),o({message:e})}})})}},29469:function(e,n,i){i.d(n,{U:function(){return d}});var t=i(2784),a=i(32132),r=i(80615);let d=()=>{let e=(0,r.l)();(0,t.useEffect)(()=>{var n;let i=(null===(n=a.w$[e])||void 0===n?void 0:n.rtl)===!0;document.documentElement.setAttribute("lang",e),document.documentElement.setAttribute("dir",i?"rtl":"ltr")},[e])}},83639:function(e,n,i){i.d(n,{GQ:function(){return p},S1:function(){return t.S}});var t=i(82004),a=i(52322),r=i(95405),d=i(56960),l=i(71383),o=i(92035),c=i(40382),u=i(69465),s=i(69423);let g="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(r.v.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),p=()=>{let e=!(0,d.y)("zendesk")&&!(0,o.l6)()&&!(0,u.wg)();(0,c.GE)(e,g);let n=(0,l.CG)(s.Dm);return(0,c.gF)()&&e?(0,a.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(n?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(n?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},69341:function(e,n,i){i.d(n,{S:function(){return f}});var t=i(52322),a=i(55478),r=i(2784),d=i(8940),l=i(53250),o=i(37012),c=i(36660),u=i(76009),s=i(91076),g=i(33279),p=i(43163),v=i(2529),m=i(16720);let _="get-gamma-pro",f=e=>{var n,i;let{children:f}=e,{currentWorkspace:y,isUserLoading:C}=(0,s.SE)(),[E,b]=(0,r.useState)(!1),h=(0,u.z$)(),I=(0,o.ye)("upsellUXEnabled_Pro"),{data:w,refetch:A}=(0,d.FaU)({variables:{workspaceId:null==y?void 0:y.id,includeExpired:!0},skip:!(null==y?void 0:y.id)}),P=null==w?void 0:w.subscription;(0,l.ET)({subscription:P,workspace:y,autoLaunch:!0});let{data:T}=(0,d.kNl)({variables:{workspaceId:null==y?void 0:y.id},skip:!y}),k=null==T?void 0:null===(n=T.products)||void 0===n?void 0:n.find(e=>"pro"===e.key),N=null==k?void 0:null===(i=k.prices)||void 0===i?void 0:i.find(e=>e.frequencyUnit===d.C_B.Year),S=(0,v.K9)(y),{isOpen:U,onOpen:R,onClose:O}=(0,a.q)({id:"upsell-modal"}),L=(0,r.useRef)(null),M=(0,r.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:i,insufficientCreditsWarning:t,segmentEvent:a,eventProperties:r}=e;I&&(b(!!t),null==n||n(),R(),null==h||h.track(a,r),L.current=i||null)},[h,R,I]),B=(0,r.useCallback)(()=>{var e;null==L||null===(e=L.current)||void 0===e||e.call(L),O(),L.current=null,b(!1)},[O]),[H,D]=(0,r.useState)({openUpsellModal:M,product:S,subscription:P,proYearlyProductPrice:N});return(0,r.useEffect)(()=>{"true"!==(0,g.SJ)()[_]||C||!y||(R(),(0,c.lO)({query:{...(0,g.SJ)(),[_]:void 0},emitChange:!1}))},[R,y,C]),(0,r.useEffect)(()=>{D({openUpsellModal:M,refetchSubscription:A,product:S,subscription:P,proYearlyProductPrice:N})},[M,S,P,N,A]),(0,t.jsxs)(m.P.Provider,{value:H,children:[f,U&&(0,t.jsx)(p.b,{insufficientCreditsWarning:E,isUpsellModalOpen:U,closeUpsellModal:B}),(0,t.jsx)(l.S1,{})]})}},77482:function(e,n,i){i.d(n,{D:function(){return u}});var t=i(52322),a=i(73534),r=i.n(a),d=i(37012),l=i(92035),o=i(40382),c=i(69465);let u=()=>{let e=(0,d.ye)("zendesk")&&!(0,l.l6)()&&!(0,c.wg)();return(0,o.gF)()&&e?(0,t.jsx)(r(),{id:"ze-snippet",src:"https://static.zdassets.com/ekr/snippet.js?key=a0bef73f-af13-4ae9-ad67-25e2355724db",async:!0,defer:!0}):null}}}]);
//# sourceMappingURL=5102-6a405812ad3de54a.js.map